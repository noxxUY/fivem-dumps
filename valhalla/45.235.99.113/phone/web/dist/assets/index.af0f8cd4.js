var $t=Object.defineProperty,Rt=Object.defineProperties;var Ot=Object.getOwnPropertyDescriptors;var Je=Object.getOwnPropertySymbols;var Bt=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable;var He=(a,t,n)=>t in a?$t(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,z=(a,t)=>{for(var n in t||(t={}))Bt.call(t,n)&&He(a,n,t[n]);if(Je)for(var n of Je(t))Ht.call(t,n)&&He(a,n,t[n]);return a},J=(a,t)=>Rt(a,Ot(t));var ze=(a,t,n)=>(He(a,typeof t!="symbol"?t+"":t,n),n);import{r as d,j as e,v as U,m as G,A as ce,a as c,S as zt,u as Y,F as fe,T as A,C as Xe,b as qe,f as pe,c as Ce,d as Me,e as oe,g as Ye,h as Ve,i as qt,k as Vt,l as Pe,n as Ut,o as Wt,p as Ue,q as Qe,s as Gt,B as Kt,t as Zt,w as We,x as Ae,N as _t,y as Jt,z as ne,D as Ge,E as Ke,G as Fe,H as Xt,I as Yt,J as Qt,K as en,L as et,M as tn,O as tt,P as nt,Q as at,R as nn,U as an,V as sn,W as Ze,X as st,Y as xe,Z as rn,_ as Se,$ as ln,a0 as cn,a1 as De,a2 as on,a3 as dn,a4 as un,a5 as Ee,a6 as mn,a7 as pn,a8 as hn,a9 as rt,aa as gn,ab as fn,ac as bn,ad as xn,ae as wn,af as it,ag as vn,ah as Nn,ai as yn,aj as kn,ak as Cn,al as lt,am as Sn,an as ct,ao as Mn,ap as ot,aq as En,ar as Ln,as as dt,at as Pn,au as ut,av as mt,aw as pt,ax as ht,ay as gt,az as ft,aA as bt,aB as xt,aC as Tn,aD as jn,aE as wt,aF as vt,aG as An,aH as Fn,aI as Dn,aJ as Nt,aK as In,aL as $n,aM as Ie,aN as Rn,aO as On,aP as Bn}from"./vendor.13ddb7ee.js";const Hn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};Hn();const f=(a,t)=>new Promise((n,r)=>{fetch(`https://phone/${a}`,{method:"POST",body:JSON.stringify(t||{})}).then(i=>i==null?void 0:i.json()).then(i=>n(i)).catch(()=>{})}),yt=d.exports.createContext(null),N=()=>d.exports.useContext(yt),zn=({children:a})=>{const[t,n]=d.exports.useState(!1),[r,i]=d.exports.useState(!1),[s,l]=d.exports.useState(!0),[u,p]=d.exports.useState(!1),[m,h]=d.exports.useState(!1),[o,g]=d.exports.useState(!1),[b,x]=d.exports.useState(!1),[k,w]=d.exports.useState(100),[T,M]=d.exports.useState(1),[y,C]=d.exports.useState(15),[R,v]=d.exports.useState(!0),[F,q]=d.exports.useState(!0),[H,j]=d.exports.useState(!0),[W,_]=d.exports.useState(null),[E,Z]=d.exports.useState("./backgrounds/default.jpg"),[Q,D]=d.exports.useState([]),[K,ae]=d.exports.useState([]),[me,re]=d.exports.useState(Q[0]),[ge,we]=d.exports.useState(""),[ve,P]=d.exports.useState(null),[X,se]=d.exports.useState([]);function I(V){!V||(Z(V),f("setSetting",{key:"background",value:V}))}function B(V,ye){if(Z("./backgrounds/default.jpg"),I(V.background),q(V.darkMode),v(V.animations),w(V.brightness),x(V.flightMode),g(V.hideNumber),j(V.notifications),C(V.volume),V.ringtone)for(let ke=0;ke<ye.length;ke++){var be=ye[ke];if(be.id===V.ringtone){re(be);break}re(be)}f("setupFinished")}const le=V=>{const ye=U(),be=Math.floor(Math.random()*7e3)+2e3;f("installApp",{app:V.app,timeout:be}),se(ke=>[...ke,J(z({id:ye},V),{timeout:setTimeout(()=>{Ne({id:ye,app:V.app})},be)})])},Ne=V=>{se(ye=>{var be=ye.filter(ke=>ke.id!==V.id);return be}),setTimeout(()=>{window.dispatchEvent(new CustomEvent("downloadFinished",{detail:{app:V.app}}))})};return e(yt.Provider,{value:{open:t,setOpen:n,half:r,setHalf:i,locked:s,setLocked:l,animations:R,setAnimations:v,darkMode:F,setDarkMode:q,notifications:H,setNotifications:j,background:E,changeBackground:I,ringtone:me,setRingtone:re,ringtones:Q,setRingtones:D,brightness:k,setBrightness:w,bigView:u,setBigView:p,flightMode:b,setFlightmode:x,hideNumber:o,setHideNumber:g,volume:y,setVolume:C,setSettings:B,backgrounds:K,setBackgrounds:ae,playerId:W,setPlayerId:_,syncing:m,setSyncing:h,scale:T,setScale:M,weather:ge,setWeather:we,locales:ve,setLocales:P,downloads:X,setDownloads:se,startDownload:le},children:a})},S=({children:a,className:t,bg:n})=>{const{animations:r}=N();return e(G.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:r?.2:0},style:{backgroundImage:`url(${n})`},className:`absolute top-0 left-0 w-full h-full bg-gray-200 text-zinc-900 dark:bg-zinc-900 dark:text-white bg-center bg-cover ${t}`,children:a})},O=({children:a,className:t})=>{const{darkMode:n}=N();return e("header",{className:`${n?"text-white":"text-zinc-900 dark"}text-white text-2xl mb-3 select-none ${t}`,children:a})},L=({className:a})=>e("hr",{className:`my-2 bg-black dark:bg-white h-[2px] dark:h-auto opacity-10 ${a}`}),$=({isOpen:a,close:t,children:n})=>{const{animations:r}=N();return e(ce,{children:a&&e(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(),transition:{type:"keyframes",duration:r?.15:0},className:"absolute flex z-50 bg-opacity-50 bg-black items-center justify-center px-4 w-full h-full top-0 left-0",children:e(G.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},exit:{y:30,opacity:0},transition:{type:"keyframes",duration:r?.15:0},className:"dark:bg-zinc-800 bg-white shadow-md rounded-md p-3 w-full",onClick:i=>i.stopPropagation(),children:n})})})},qn=({apps:a})=>{const[t,n]=d.exports.useState(1),r=[];for(let i=1;i<=Math.ceil((a==null?void 0:a.length)/28);i++){const s=i*28,l=s-28,u=a==null?void 0:a.slice(l,s);r.push(u)}return c(S,{className:"flex flex-col items-center !h-full !bg-transparent w-full",children:[e(zt,{enableMouseEvents:!0,containerStyle:{width:"100%",height:"100%"},style:{width:"100%",height:"100%"},onChangeIndex:i=>n(i+1),children:r==null?void 0:r.map((i,s)=>e("div",{className:"grid grid-cols-4 gap-x-2 gap-y-4 pt-[45px] content-start w-full h-full px-4 justify-items-center",children:i==null?void 0:i.map((l,u)=>{if(l.id!="setup")return e(Vn,{id:l.id,downloading:l.downloading,hidden:l.hidden,path:"/"+l.id,name:l.name,notifications:l.notifications},l.id+u)})},s))}),r.length>1&&e("div",{className:"absolute flex bottom-12 gap-2",children:r.map((i,s)=>e("div",{className:`w-3 h-3 rounded-full bg-white ${t-1===s?"bg-opacity-70":"bg-opacity-30"}`},"home"+s))})]})},Vn=({id:a,path:t,name:n,downloading:r,hidden:i,notifications:s})=>{const l=Y(),{animations:u,locales:p}=N(),[m,h]=d.exports.useState(!0),o=()=>{r||l(t)};return i?null:e(fe,{children:m?e(A,{title:n,children:c("div",{children:[e("img",{src:`./apps/${a}.svg`,onLoad:()=>h(!1),className:"hidden"}),e(qe,{variant:"rectangular",width:"60px",height:"60px",onClick:o,className:"w-[60px] h-[60px] rounded-lg cursor-pointer !bg-slate-500"})]})}):e(A,{title:r?p==null?void 0:p.installing:n,children:e(G.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:u?.2:0},onClick:o,className:"w-[60px] h-[60px] cursor-pointer bg-cover relative rounded-lg p-[0.3rem]",style:{backgroundImage:`url(./apps/${a}.svg)`},children:e(ce,{children:r?e(G.div,{exit:{scale:0,opacity:0},className:"w-full h-full bg-zinc-900 bg-opacity-60 flex items-center justify-center rounded-full p-2",children:e(Xe,{size:"18pt",sx:{color:"white"}})}):s>0&&e("div",{className:"flex px-2 select-none items-center justify-center text-white text-sm rounded-full bg-red-500 absolute -right-1 -top-1",children:s})})})})})},Un=()=>{const{animations:a,setLocked:t}=N(),[n,r]=d.exports.useState(new Date),[i,s]=d.exports.useState(null),l=Y();d.exports.useEffect(()=>()=>{clearInterval(i)},[i]),d.exports.useEffect(()=>{let m=setInterval(()=>{r(new Date)},5e3);s(m)},[]);const u=()=>{t(!1),l("/camera")},p=()=>{t(!1),l("/phone")};return c(G.div,{initial:{y:0},animate:{y:0},exit:{y:-200,opacity:0},transition:{duration:a?.2:0},className:"flex flex-col select-none w-full h-full pt-[50px] items-center text-white",children:[c("div",{className:"text-center",children:[e("div",{className:"text-[75px]",children:n&&pe(n,"HH:mm")}),e("div",{className:"text-xl font-normal",children:n&&pe(n,"EEEE d MMMM")})]}),c("div",{className:"bottom-12 flex justify-between items-center w-full px-5 absolute",children:[e("button",{onClick:p,className:"back-btn !w-12 !h-12 !text-xl",children:e(Ce,{})}),e("button",{onClick:u,className:"back-btn !w-12 !h-12 !text-xl",children:e(Me,{})})]})]})},$e={CLOUDS:{icon:e(Pe,{}),label:"Cloudy"},CLEAR:{icon:e(Ue,{}),label:"Clear"},FOGGY:{icon:e(Qe,{}),label:"Foggy"},SMOG:{icon:e(Qe,{}),label:"Smoggy"},NEUTRAL:{icon:e(Pe,{}),label:"Neutral"},HALLOWEEN:{icon:e(Gt,{}),label:"Halloween"},THUNDER:{icon:e(Kt,{}),label:"Thunder"},RAIN:{icon:e(Zt,{}),label:"Rain"},EXTRASUNNY:{icon:e(We,{}),label:"Sunny"},OVERCAST:{icon:e(Ue,{}),label:"Overcast"},CLEARING:{icon:e(Ue,{}),label:"Clearing"},BLIZZARD:{icon:e(Ae,{}),label:"Blizzard"},SNOW:{icon:e(Ae,{}),label:"Snow"},SNOWLIGHT:{icon:e(Ae,{}),label:"Snow"},XMAS:{icon:e(Ae,{}),label:"Snow"}},Wn=()=>{const{pathname:a}=oe(),{locked:t,setLocked:n,syncing:r,flightMode:i,hideNumber:s,playerId:l,weather:u}=N(),[p,m]=d.exports.useState(new Date),[h,o]=d.exports.useState(null),g=()=>{n(!0)};return d.exports.useEffect(()=>()=>{clearInterval(h)},[h]),d.exports.useEffect(()=>{let b=setInterval(()=>{m(new Date)},5e3);o(b)},[]),c("div",{className:`w-full drop-shadow-lg absolute top-0 flex z-[40] justify-between ${(a==="/"||a==="/lock")&&"!text-white"} dark:text-white text-zinc-800 pt-1 px-5 text-md`,children:[c("div",{className:"flex items-center gap-2 select-none",children:[p&&pe(p,"HH:mm"),c("p",{children:["#",l&&l]})]}),c("div",{className:"flex gap-2 text-lg relative items-center justify-center",children:[s&&e(Ye,{className:"text-sm mt-[1px]"}),i?e(Ve,{}):e(qt,{}),r&&e(Vt,{className:"mb-[1px] text-blue-500 text-[16px]"}),e(A,{title:$e[u]?$e[u].label:"Cloudy",children:e("div",{children:$e[u]?$e[u].icon:e(Pe,{})})}),a!=="/setup"&&(t?e(Ut,{className:"mb-[1px] text-red-500 text-[16px]"}):e(Wt,{onClick:g,className:"mb-[1px] text-green-500 text-[16px] cursor-pointer"}))]})]})},Gn=()=>{const{animations:a}=N(),t=Y(),{pathname:n}=oe(),{locked:r,setLocked:i}=N(),s=()=>{n==="/lock"&&r&&i(!1),t("/")};return e(G.div,{initial:{y:100},animate:{y:0},exit:{y:100},transition:{type:"keyframes",duration:a?.15:0},onClick:s,className:"w-full h-[2rem] pb-3 group cursor-pointer z-[40] items-center justify-center flex absolute bottom-0",children:e("div",{className:`w-[40%] p-[4px] group-hover:!bg-opacity-100 bg-zinc-900 dark:bg-white !bg-opacity-50 rounded-full ${n==="/lock"&&"!bg-white"}`})})},Kn=({children:a,background:t})=>{const{brightness:n}=N();return e("div",{className:"absolute overflow-hidden bg-black left-[4px] right-[4px] top-[9px] bottom-[5px] rounded-[1rem] bg-cover bg-no-repeat",style:{backgroundImage:`url(${t})`,backgroundPosition:"32% center",filter:`brightness(${n/100})`},children:e("div",{className:"bg-black bg-opacity-20 w-full h-full",children:a})})},kt=d.exports.createContext(null),Re=()=>d.exports.useContext(kt),Zn=({children:a})=>{const[t,n]=d.exports.useState([]),{half:r,setHalf:i,setOpen:s,notifications:l}=N(),u=d.exports.useCallback(o=>{const g=U();if(o.duration&&o.duration===-1){n(b=>[J(z({},o),{id:g}),...b]);return}n(b=>[J(z({},o),{id:g,timeout:setTimeout(()=>p(g),o.duration?o.duration:5e3)}),...b])},[]),p=o=>{n(g=>{var b=g.filter(x=>x.id!==o);return b}),setTimeout(()=>{window.dispatchEvent(new Event("removeNotification"))})},m=o=>{if(!!l){var g=!1;if(s(b=>b||(i(!0),g=!0,!0)),g){setTimeout(()=>{u(o)},150);return}u(o)}},h=()=>{!r||t.length>0||setTimeout(()=>{r&&t.length<1&&(s(!1),i(!1),f("close"))},300)};return d.exports.useEffect(()=>(window.addEventListener("removeNotification",h),()=>{window.removeEventListener("removeNotification",h)}),[t,r]),e(kt.Provider,{value:{notify:m,removeNotification:p,notifications:t},children:a})},Te=(a,t)=>{const n=new Audio(`./sounds/${a}`);return n.volume=t||.3,n.play(),n},_n=()=>{const{notifications:a}=Re();return e("div",{className:"grid gap-1 px-3 top-8 absolute z-30 w-full",children:e(ce,{children:a.map((t,n)=>e(Jn,z({},t),t.id))})})},Jn=({id:a,app:t,title:n,content:r,sound:i,canClose:s,data:l})=>{const{removeNotification:u}=Re(),{animations:p,volume:m,locked:h}=N(),o=Y(),g=()=>{if(l&&t){if(h){u(a);return}l.nuiEvent?f(l.nuiEvent,l.args):o(`/${t}`,{state:{data:l}}),u(a)}},b=()=>{s!==!1&&u(a)};return d.exports.useEffect(()=>{if(i){const x=Te(i);x.volume=m/100}},[m,i]),e(G.div,{layout:!0,initial:{y:-100,zIndex:-1,opacity:0,pointerEvents:"none"},animate:{y:0,zIndex:1,opacity:1,pointerEvents:"all"},exit:{y:-100,zIndex:-1,opacity:0,pointerEvents:"none"},transition:{type:"keyframes",duration:p?.25:0},onClick:g,className:"overflow-hidden",onContextMenu:b,children:c("div",{className:"w-full p-2 select-none pointer-events-auto bg-white shadow-lg dark:bg-zinc-700 !bg-opacity-[98%] rounded-lg text-zinc-900 dark:text-white",children:[c("div",{className:"flex items-center gap-2 relative justify-between mb-[1px] overflow-hidden",children:[c("div",{className:"flex gap-2 items-center overflow-hidden text-ellipsis max-w-[200px]",children:[e("img",{src:`./apps/${t}.svg`,width:"25px"}),e("p",{className:"text-ellipsis w-full overflow-hidden",children:n})]}),e("p",{className:"text-sm absolute right-0 top-0 opacity-80 font-normal",children:"just now"})]}),e("div",{className:"w-full relative overflow-hidden",children:typeof r=="function"?r({id:a}):e("p",{className:"text-ellipsis relative w-fit max-w-[270px] overflow-hidden whitespace-nowrap",children:r})})]})})},_e=({element:a})=>{const{locked:t}=N();return t?e(_t,{to:"/lock"}):a},ee=({name:a,avatar:t,className:n})=>{let r=null;if(a){const i=a.split(" ")[0][0];r=i,a.split(" ")[1]&&(r=i+a.split(" ")[1][0])}return e("div",{className:`w-20 h-20 select-none uppercase flex items-center justify-center ${!t&&"bg-slate-500"} text-2xl rounded-full bg-center bg-cover !text-white ${n}`,style:{backgroundImage:`url(${t})`},children:!t&&!r?e(Jt,{className:"!text-[1rem] !text-white"}):!t&&r})},de=({pages:a,page:t,setPage:n})=>{const{animations:r}=N(),i=(s,l)=>{setTimeout(()=>{n({page:s,args:l})},50)};return a.map(({name:s,Element:l,args:u},p)=>e(ce,{initial:!1,children:t.page===s&&e(G.div,{initial:{x:p<1||s==="main"?-500:500},animate:{x:0},exit:{x:p<1||s==="main"?-500:500},transition:{type:"keyframes",duration:r?.25:0},className:"w-full h-full absolute overflow-hidden",children:e(l,{setPage:i,args:t.args?t.args:u&&u})})},s))},Xn=({setPage:a})=>{const[t,n]=d.exports.useState(!1),{background:r,changeBackground:i,backgrounds:s,locales:l}=N(),u=d.exports.useRef(null),p=()=>{var h;const m=(h=u==null?void 0:u.current)==null?void 0:h.value;m&&(i(m),n(!1))};return c(S,{className:"pt-10 pb-[9rem] px-5 absolute",children:[c(O,{className:"flex gap-2",children:[e("button",{onClick:()=>a("main"),className:"back-btn",children:e(ne,{})}),e("p",{children:l==null?void 0:l.background})]}),e(ie,{icon:e(Ge,{}),onClick:()=>n(!0),color:"bg-blue-500",children:l==null?void 0:l.customBackground}),e(L,{}),c("div",{className:"grid grid-cols-2 content-start gap-2 w-full h-full overflow-auto",children:[s.length>0&&!s.includes(r.substring(14))&&e(Ct,{image:r,current:!0}),s.map((m,h)=>e(Ct,{image:"./backgrounds/"+m,current:"./backgrounds/"+m===r},"bg"+h))]}),c($,{isOpen:t,close:()=>n(!1),children:[e("label",{children:l==null?void 0:l.backgroundURL}),e("input",{className:"w-full mt-1 rounded-sm !bg-opacity-5 bg-black dark:bg-white p-1 text-zinc-900 dark:text-white px-2 dark:placeholder:text-white placeholder:!text-opacity-30 focus:ring-2 focus:bg-opacity-10 hover:bg-opacity-10 transition-all ring-blue-400 outline-none font-medium",placeholder:".(png|jpeg|gif)",ref:u}),e("div",{className:"grid gap-1 mt-3",children:e("button",{className:"btn",onClick:p,children:l==null?void 0:l.apply})})]})]})},Ct=({image:a,current:t})=>{const[n,r]=d.exports.useState(!0),{changeBackground:i}=N();return e(fe,{children:n?c(fe,{children:[e("img",{src:a,onLoad:()=>setTimeout(()=>r(!1),300),className:"hidden"}),e(qe,{variant:"rectangular",height:"200px",className:"w-full rounded-md !bg-slate-400 !bg-opacity-75"})]}):c("div",{onClick:()=>!t&&i(a),className:"relative flex items-center justify-center h-[200px]",children:[e(G.img,{initial:{opacity:0},animate:{opacity:1},src:a,className:`rounded-lg absolute left-0 top-0 w-full object-center object-cover h-full shadow-xl ${t?"brightness-50 cursor-default":"brightness-100 cursor-pointer"}`}),t&&e("div",{className:"p-4 bg-blue-500 !text-white absolute rounded-full",children:e(Ke,{className:"text-2xl "})})]})})},Yn=({setPage:a})=>{const{notifications:t,setNotifications:n,animations:r,volume:i,setVolume:s,locales:l}=N(),[u,p]=d.exports.useState(!1),m=o=>{n(o.target.checked)},h=(o,g)=>{f("setSetting",{key:"volume",value:g}),s(g)};return c(S,{className:"pt-10 px-5 absolute",children:[c(O,{className:"flex gap-2",children:[e("button",{onClick:()=>a("main"),className:"back-btn",children:e(ne,{})}),e("p",{children:l==null?void 0:l.notifications})]}),e(he,{checked:t,icon:e(Fe,{}),color:"bg-blue-500",label:l==null?void 0:l.notifications,onChange:m}),e(ce,{initial:!1,children:t&&c(G.div,{transition:{type:"keyframes",duration:r?.2:0},initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},children:[e(L,{}),c("div",{className:"grid gap-1",children:[e(St,{progress:i,icon:e(Xt,{}),min:0,max:30,onChange:h,color:"bg-orange-400",label:l==null?void 0:l.volume}),e(ie,{icon:e(Yt,{}),onClick:()=>p(!0),color:"bg-red-500",children:l==null?void 0:l.ringtone})]})]})}),e($,{isOpen:u,close:()=>p(!1),children:e(Qn,{close:()=>p(!1)})})]})},Qn=({close:a})=>{const{ringtone:t,setRingtone:n,ringtones:r,locales:i,volume:s}=N(),[l,u]=d.exports.useState(null),p=m=>{l&&l.pause(),n(m),f("setSetting",{key:"ringtone",value:m.id});const h=Te(m.file);h.volume=s/100,h.currentTime=0,u(h),setTimeout(()=>{h.pause()},5e3)};return d.exports.useEffect(()=>()=>{l&&l.pause()},[l]),c("div",{className:"grid gap-1",children:[e("div",{className:"grid max-h-[12rem] gap-1 content-start overflow-auto",children:r.map(m=>e(ea,{checked:m.id===t.id,onClick:()=>p(m),children:m.label},m.id))}),e("button",{className:"btn mt-2",onClick:a,children:i==null?void 0:i.close})]})},ea=({checked:a,onClick:t,children:n})=>c("button",{onClick:t,className:"flex justify-between font-medium select-none outline-none items-center relative gap-2 px-2 w-full bg-black dark:bg-white hover:!bg-opacity-10 cursor-pointer !bg-opacity-5 rounded-md py-2 ",children:[e("div",{className:"flex items-center gap-2",children:e("h1",{children:n})}),a&&e(Ke,{})]}),ta=({setPage:a})=>{const[t,n]=d.exports.useState(!1),[r,i]=d.exports.useState(!1),[s,l]=d.exports.useState(null),[u,p]=d.exports.useState(null),[m,h]=d.exports.useState(null),{locales:o}=N();d.exports.useEffect(()=>{f("getProfile").then(k=>{l(k)})},[]);const g=()=>{const k=document.createElement("textarea");k.value=s==null?void 0:s.number,document.body.appendChild(k),k.select(),document.execCommand("copy"),document.body.removeChild(k),i(!0),setTimeout(()=>{i(!1)},1e3)},b=k=>{k.preventDefault(),n(!1),f("setAvatar",{avatar:k.target.avatar.value}).then(w=>{l(w)})},x=k=>{k.preventDefault(),h(null);const w=k.target.oldPassword.value,T=k.target.newPassword.value,M=k.target.newPassword2.value;if(T!==M){h(o==null?void 0:o.passwordNoMatch);return}f("settings:changePassword",{oldPass:w,newPass:T}).then(y=>{if(y){h(y);return}f("getProfile").then(C=>{l(C),p(!1)})})};return c(S,{className:"pt-10 px-5 absolute",children:[e(O,{className:"flex gap-2",children:e("button",{onClick:()=>a("main"),className:"back-btn",children:e(ne,{})})}),c("div",{className:"flex flex-col gap-2 items-center w-full",children:[e(A,{title:o==null?void 0:o.changeProfileImage,enterDelay:300,leaveDelay:0,children:e("div",{onClick:()=>n(!0),className:"cursor-pointer hover:brightness-75",children:e(ee,{name:s==null?void 0:s.name,avatar:s==null?void 0:s.avatar})})}),e("p",{className:"text-2xl font-normal",children:s==null?void 0:s.name}),e(L,{className:"w-full my-1"}),c("div",{className:"flex justify-between w-full py-1 px-3",children:[e("p",{children:o==null?void 0:o.number}),c("div",{className:"flex gap-2 font-normal opacity-80",children:[e("p",{children:s==null?void 0:s.number}),e(Qt,{onClickAway:()=>i(!1),children:e(A,{disableHoverListener:!0,title:o==null?void 0:o.copyClipboard,open:r,enterDelay:0,leaveDelay:0,children:e("button",{onClick:g,children:e(en,{className:"text-[16px]"})})})})]})]}),c("div",{className:"flex justify-between w-full py-1 px-3",children:[e("p",{children:o==null?void 0:o.email}),e("p",{className:"font-normal opacity-80",children:s==null?void 0:s.email})]})]}),e(L,{}),e(ie,{onClick:()=>{p(!0),h(null)},color:"bg-blue-500",icon:e(et,{}),children:o==null?void 0:o.changePassword}),e($,{isOpen:u,close:()=>p(!1),children:c("form",{className:"grid gap-1",onSubmit:x,children:[e("label",{children:o==null?void 0:o.currentPassword}),e("input",{name:"oldPassword",className:"input",type:"password",required:!0}),e(L,{}),e("label",{children:o==null?void 0:o.newPassword}),e("input",{name:"newPassword",className:"input",type:"password",required:!0}),e("label",{children:o==null?void 0:o.repeatPassword}),e("input",{name:"newPassword2",className:"input",type:"password",required:!0}),e("p",{className:"text-red-500 mt-2 text-center",children:m}),e("button",{type:"submit",className:"btn-2 bg-blue-500 mt-3",children:o==null?void 0:o.change})]})}),e($,{isOpen:t,close:()=>n(!1),children:c("form",{onSubmit:b,children:[e("label",{children:o==null?void 0:o.imageUrl}),e("input",{className:"input",placeholder:".(png|jpeg|gif)",name:"avatar",type:"url"}),e("div",{className:"grid gap-1 mt-3",children:e("button",{className:"btn",children:o==null?void 0:o.apply})})]})})]})},na=({setPage:a})=>{const[t,n]=d.exports.useState(!1),{syncing:r,setSyncing:i,locales:s}=N(),l=()=>{f("resetPhone")},u=()=>{r||(i(!0),f("syncPhone"))};return c(S,{className:"pt-10 px-5 absolute",children:[c(O,{className:"flex gap-2",children:[e("button",{onClick:()=>a("main"),className:"back-btn",children:e(ne,{})}),e("p",{children:s==null?void 0:s.system})]}),c("div",{children:[c("div",{className:"flex justify-between",children:[e("p",{children:s==null?void 0:s.versionHeader}),e("p",{children:s==null?void 0:s.version})]}),e(L,{}),c("div",{className:"flex justify-between",children:[e("p",{children:s==null?void 0:s.osHeader}),e("p",{children:s==null?void 0:s.operatingSystem})]}),e(L,{}),c("div",{className:"grid gap-1",children:[e(ie,{onClick:u,icon:e(Pe,{}),color:"bg-blue-500",children:s==null?void 0:s.syncPhone}),e(ie,{onClick:()=>n(!0),icon:e(tn,{}),color:"bg-red-500",children:s==null?void 0:s.factoryReset})]})]}),c($,{isOpen:t,close:()=>n(!1),children:[e("p",{children:s==null?void 0:s.resetConfirmation}),c("div",{className:"flex gap-2 mt-3",children:[e("button",{onClick:()=>n(!1),className:"btn",children:s==null?void 0:s.no}),e("button",{className:"btn text-red-500",onClick:l,children:s==null?void 0:s.yes})]})]})]})},aa=()=>{const[a,t]=d.exports.useState({page:"main"});return e(S,{children:e(de,{page:a,setPage:t,pages:[{name:"main",Element:sa},{name:"profile",Element:ta},{name:"background",Element:Xn},{name:"notifications",Element:Yn},{name:"system",Element:na}]})})},sa=({setPage:a})=>{const{animations:t,setAnimations:n,darkMode:r,setDarkMode:i,brightness:s,setBrightness:l,hideNumber:u,setHideNumber:p,flightMode:m,setFlightmode:h,locales:o}=N(),[g,b]=d.exports.useState(null),x=y=>{f("setSetting",{key:"flightMode",value:y.target.checked}),h(y.target.checked)},k=y=>{f("setSetting",{key:"hideNumber",value:y.target.checked}),p(y.target.checked)},w=y=>{f("setSetting",{key:"animations",value:y.target.checked}),n(y.target.checked)},T=y=>{if(f("setSetting",{key:"darkMode",value:y.target.checked}),i(y.target.checked),!y.target.checked){var C=null,R=["blind.mp3","blind2.mp3"];C=R[Math.floor(Math.random()*R.length)];const v=Te("colormode/"+C);v.currentTime=0}},M=(y,C)=>{f("setSetting",{key:"brightness",value:C}),l(C)};return d.exports.useEffect(()=>{f("getProfile").then(y=>b(y))},[]),c(S,{className:"pt-10 px-5 absolute w-full",children:[e(O,{children:o==null?void 0:o.settingsTitle}),c("div",{onClick:()=>a("profile"),className:"flex items-center cursor-pointer select-none hover:!bg-opacity-10 relative gap-3 p-2 w-full bg-black dark:bg-white !bg-opacity-5 rounded-md ",children:[e(ee,{name:g==null?void 0:g.name,avatar:g==null?void 0:g.avatar,className:"w-10 h-10 !text-sm flex-none"}),c("div",{children:[e("h1",{children:g==null?void 0:g.name}),e("p",{className:"opacity-60 text-sm font-normal",children:o==null?void 0:o.profileSubheader})]}),e("div",{className:"absolute right-0 m-2 opacity-70",children:e(tt,{})})]}),e(L,{}),c("div",{className:"flex gap-1 flex-col",children:[e(he,{icon:e(Ve,{}),color:"bg-orange-400",label:o==null?void 0:o.airplaneMode,onChange:x,checked:m}),e(he,{icon:e(Ye,{}),color:"bg-blue-500",label:o==null?void 0:o.noCallerId,checked:u,onChange:k}),e(he,{icon:e(nt,{}),color:"bg-indigo-500",label:o==null?void 0:o.darkMode,checked:r,onChange:T}),e(he,{icon:e(at,{}),color:"bg-green-500",label:o==null?void 0:o.animations,checked:t,onChange:w}),e(St,{icon:e(We,{}),color:"bg-blue-500",label:o==null?void 0:o.brightness,min:20,max:100,progress:s,onChange:M})]}),e(L,{}),c("div",{className:"flex gap-1 flex-col",children:[e(ie,{icon:e(Fe,{}),onClick:()=>a("notifications"),color:"bg-fuchsia-400",isMenu:!0,children:o==null?void 0:o.notifications}),e(ie,{onClick:()=>a("background"),icon:e(Ge,{}),color:"bg-yellow-500",isMenu:!0,children:o==null?void 0:o.background})]}),e(L,{}),e("div",{className:"flex gap-1 flex-col",children:e(ie,{onClick:()=>a("system"),icon:e(nn,{}),color:"bg-gray-500",isMenu:!0,children:o==null?void 0:o.system})})]})},he=({icon:a,color:t,label:n,checked:r,onChange:i})=>c("div",{className:"flex items-center select-none relative gap-2 px-2 w-full bg-black dark:bg-white !bg-opacity-5 rounded-md py-2 ",children:[a&&e("div",{className:`p-[.3rem] rounded-md ${t}`,children:a}),e("h1",{children:n}),e("div",{className:"absolute right-1",children:e(an,{checked:r,onChange:i,size:"small"})})]}),ie=({icon:a,color:t,onClick:n,isMenu:r,children:i})=>c("button",{onClick:n,className:"flex justify-between font-medium select-none outline-none items-center relative gap-2 px-2 w-full bg-black dark:bg-white hover:!bg-opacity-10 cursor-pointer !bg-opacity-5 rounded-md py-2 ",children:[c("div",{className:"flex items-center gap-2",children:[e("div",{className:`p-[.3rem] rounded-md ${t}`,children:a}),e("h1",{children:i})]}),r&&e(tt,{})]}),St=({icon:a,color:t,label:n,progress:r,max:i,min:s,onChange:l})=>c("div",{className:"flex items-center select-none relative gap-2 px-2 w-full bg-black dark:bg-white !bg-opacity-5 rounded-md py-2 ",children:[a&&e("div",{className:`p-[.3rem] rounded-md ${t}`,children:a}),e("h1",{children:n}),e("div",{className:"flex w-[80px] items-center absolute right-4",children:e(sn,{min:s,max:i,defaultValue:r,onChange:l})})]}),ue=()=>{const a=Y();return c(S,{className:"px-10 py-10 flex gap-3 flex-col items-center justify-center",children:[e(Ve,{className:"text-4xl"}),c("p",{className:"text-center text-gray-300",children:["This app is disabled whilst ",e("b",{children:"Flight Mode"})," is active."]}),e("button",{onClick:()=>{a("/settings")},className:"btn-2 bg-orange-400",children:"Disable Flight Mode"})]})},ra=({setPage:a})=>{const{locales:t}=N();return e(S,{className:"px-5 pb-[5rem] absolute flex flex-col justify-center",children:c("div",{className:"z-50",children:[c(O,{className:"flex flex-col items-center gap-2 text-center",children:[e("p",{className:"text-blue-500 text-3xl mb-3",children:e(Ze,{})}),e("p",{children:t==null?void 0:t.welcomeTwitter})]}),e("p",{className:"text-center mb-5 dark:text-slate-400 text-slate-600",children:t==null?void 0:t.twitterInfo}),c("div",{className:"grid px-3 gap-1",children:[e("button",{className:"btn-2 bg-blue-500 !text-white",onClick:()=>a("login"),children:t==null?void 0:t.login}),e("button",{className:"btn",onClick:()=>a("register"),children:t==null?void 0:t.register})]})]})})},ia=({setPage:a})=>{const{login:t}=je(),{locales:n}=N(),[r,i]=d.exports.useState(!1),s=async l=>{l.preventDefault(),await t(l.target.username.value,l.target.password.value)||i(!0)};return c(S,{className:"px-5 pt-10 absolute",children:[c(O,{className:"flex gap-2 mb-3",children:[e("button",{onClick:()=>a("landing"),className:"back-btn",children:e(ne,{})}),e("p",{children:n==null?void 0:n.login})]}),e(L,{}),c("form",{onSubmit:s,className:"grid gap-1",children:[e("input",{className:"input",type:"text",placeholder:n==null?void 0:n.username,name:"username",required:!0}),e("input",{className:"input",type:"password",placeholder:n==null?void 0:n.password,name:"password",required:!0}),e(L,{}),e("button",{className:"btn",children:n==null?void 0:n.login}),r&&e("p",{className:"text-red-500 mt-3 text-center",children:n==null?void 0:n.loginIncorrect})]})]})},la=({setPage:a})=>{const{account:t,logout:n,setAccount:r}=je(),[i,s]=d.exports.useState(!1),[l,u]=d.exports.useState(!1),[p,m]=d.exports.useState(!1),h=d.exports.useRef(null),{locales:o}=N(),g=()=>{var w;var k=(w=h==null?void 0:h.current)==null?void 0:w.value;k&&(f("changeTwitterAvatar",{avatar:k}),r(J(z({},t),{avatar:k})),s(!1))},b=async()=>{f("delete"),a("landing"),setTimeout(()=>{r(null)},500)};d.exports.useEffect(()=>{f("getTwitterSettings").then(k=>{m(k.toggle)})},[]);const x=k=>{const w=k.target;m(w.checked),f("setSetting",{key:"twitterMentions",value:w.checked})};return c(S,{className:"px-5 pt-10",children:[e(O,{className:"flex gap-2 mb-3",children:e("button",{onClick:()=>a("main"),className:"back-btn",children:e(ne,{})})}),c("div",{className:"flex flex-col gap-2 items-center w-full",children:[e(A,{title:o==null?void 0:o.changeProfileImage,enterDelay:300,leaveDelay:0,children:e("div",{onClick:()=>s(!0),className:"hover:brightness-75 cursor-pointer",children:e(ee,{name:t==null?void 0:t.username,avatar:t==null?void 0:t.avatar})})}),c("p",{className:"text-2xl font-normal",children:["@",t==null?void 0:t.username]})]}),e(L,{className:"mt-4"}),e(he,{icon:e(Fe,{}),color:"bg-blue-500",label:o==null?void 0:o.onlyMentions,checked:p,onChange:x}),e(L,{}),c("div",{className:"grid gap-1",children:[e("button",{className:"btn",onClick:n,children:o==null?void 0:o.logout}),e("button",{className:"btn text-red-500",onClick:()=>u(!0),children:o==null?void 0:o.deleteAccount})]}),c($,{isOpen:i,close:()=>s(!1),children:[e("label",{children:o==null?void 0:o.profileImage}),e("input",{className:"w-full mt-1 rounded-sm !bg-opacity-5 bg-black dark:bg-white p-1 text-zinc-900 dark:text-white px-2 dark:placeholder:text-white placeholder:!text-opacity-30 focus:ring-2 focus:bg-opacity-10 hover:bg-opacity-10 transition-all ring-blue-400 outline-none font-medium",placeholder:".(png|jpeg|gif)",ref:h}),e("div",{className:"grid gap-1 mt-3",children:e("button",{className:"btn",onClick:g,children:o==null?void 0:o.set})})]}),c($,{isOpen:l,close:()=>u(!1),children:[e("p",{className:"text-md text-center",children:o==null?void 0:o.deleteAccountConf}),c("div",{className:"flex gap-2 mt-3",children:[e("button",{onClick:()=>u(!1),className:"btn",children:o==null?void 0:o.cancel}),e("button",{className:"btn text-red-500",onClick:b,children:o==null?void 0:o.delete})]})]})]})},ca=({setPage:a})=>{const{setAccount:t}=je(),{locales:n}=N(),[r,i]=d.exports.useState(null),s=l=>{l.preventDefault();const u=l.target.password.value,p=l.target.password2.value;if(u!==p){i(n==null?void 0:n.passwordNoMatch);return}if(/\s/g.test(l.target.username.value)){i(n==null?void 0:n.noSpacesInName);return}f("create",{username:l.target.username.value,password:l.target.password.value,avatar:l.target.avatar.value}).then(({status:m})=>{if(typeof m=="string"){i(m);return}t(m),a("main")})};return c(S,{className:"px-5 pt-10 absolute",children:[c(O,{className:"flex gap-2 mb-3",children:[e("button",{onClick:()=>a("landing"),className:"back-btn",children:e(ne,{})}),e("p",{children:n==null?void 0:n.register})]}),e(L,{}),c("form",{onSubmit:s,className:"grid gap-1",children:[e("input",{className:"input",type:"text",placeholder:n==null?void 0:n.username,name:"username",maxLength:24,minLength:3,required:!0}),e("input",{className:"input",type:"password",placeholder:n==null?void 0:n.password,name:"password",maxLength:24,minLength:4,required:!0}),e("input",{className:"input",type:"password",name:"password2",maxLength:24,minLength:4,placeholder:n==null?void 0:n.repeatPassword,required:!0}),e(L,{}),e("input",{className:"input",type:"url",name:"avatar",placeholder:n==null?void 0:n.profileImage}),e(L,{}),e("button",{className:"btn",children:n==null?void 0:n.register}),r&&e("p",{className:"text-red-500 mt-3 text-center",children:r})]})]})},Mt=d.exports.createContext(null),je=()=>d.exports.useContext(Mt),oa=()=>{const[a,t]=d.exports.useState({page:"main"}),[n,r]=d.exports.useState(null),{flightMode:i}=N();if(i)return e(ue,{});d.exports.useEffect(()=>{f("getTwitterAccount").then(p=>{p?(r(p),t({page:"main"})):t({page:"landing"})})},[]);const s=async(p,m)=>{const{status:h}=await f("login",{username:p,password:m});return h?(r(h),t({page:"main"}),!0):!1},l=async()=>{f("logout"),t({page:"landing"}),setTimeout(()=>{r(null)},500)},u=[{name:"landing",Element:ra},{name:"login",Element:ia},{name:"register",Element:ca},{name:"profile",Element:la},{name:"main",Element:da}];return e(S,{children:e(Mt.Provider,{value:{account:n,setAccount:r,login:s,logout:l},children:e(de,{page:a,setPage:t,pages:u})})})},da=({setPage:a})=>{var F,q,H;const t=oe(),n=Y(),[r,i]=d.exports.useState(!!((F=t==null?void 0:t.state)==null?void 0:F.images)),[s,l]=d.exports.useState(!1),{account:u}=je(),[p,m]=d.exports.useState(""),[h,o]=d.exports.useState(((q=t==null?void 0:t.state)==null?void 0:q.images)?(H=t==null?void 0:t.state)==null?void 0:H.images:[]),{setBigView:g,locales:b}=N(),x=d.exports.useRef(),k=j=>{m(`@${j} `),i(!0)},[w,T]=d.exports.useState({page:"main"}),M=[{name:"main",Element:ua,args:{setMainPage:a,reply:k}},{name:"dms",Element:ma,args:{setMainPage:a,reply:k}}];d.exports.useEffect(()=>{var j,W,_;((j=t==null?void 0:t.state)==null?void 0:j.data)&&m((_=(W=t==null?void 0:t.state)==null?void 0:W.data)==null?void 0:_.tweet)},[]),d.exports.useEffect(()=>{r||(m(""),o([]),t.state=null)},[r]);const y=j=>{j.preventDefault(),(j.target.msg.value.length>0||h.length>0)&&(f("tweet",{id:U(),msg:j.target.msg.value,images:h}),j.target.msg.value="",i(!1))},C=()=>{n("/camera",{state:{images:h,app:"twitter",data:{tweet:x.current.value}}})},R=j=>{o(W=>[...W,j]),l(!1)},v=(j,W)=>{j.stopPropagation(),o(_=>_.filter((E,Z)=>Z!==W))};return c(S,{className:"flex  flex-col pt-10",children:[c(O,{className:"flex !mb-1 justify-between px-5 items-center",children:[c("p",{className:"flex items-center gap-2",children:[e(Ze,{className:"mt-1 text-blue-500"})," ",b==null?void 0:b.twitterTitle]}),e("div",{className:"cursor-pointer",onClick:()=>a("profile"),children:e(ee,{className:"flex-none w-10 h-10 !text-sm",name:u==null?void 0:u.username,avatar:u==null?void 0:u.avatar})})]}),e(L,{className:"mb-0"}),e("div",{className:"relative h-full",children:e(de,{page:w,pages:M,setPage:T})}),e(pa,{page:w.page,setPage:T}),e(A,{title:b==null?void 0:b.tweet,placement:"top",children:e("button",{onClick:()=>i(!0),className:"absolute bottom-[17%] right-4 rounded-full w-14 h-14 flex items-center justify-center focus:ring transition-all bg-blue-500",children:e(st,{})})}),c($,{isOpen:r,close:()=>i(!1),children:[e("p",{className:"mb-2",children:b==null?void 0:b.createTweet}),c("form",{onSubmit:y,children:[e("textarea",{className:"input !resize-none",name:"msg",rows:7,placeholder:b==null?void 0:b.enterTweet,defaultValue:p,ref:x,minLength:2,maxLength:244}),h.length>0&&e("div",{className:"grid grid-cols-3 gap-1 mt-2",children:h.map((j,W)=>e("div",{onClick:()=>g(j),className:"w-full h-[50px] relative rounded-md bg-cover bg-center",style:{backgroundImage:`url(${j})`},children:e("button",{onClick:_=>v(_,W),className:"w-[20px] h-[20px] flex items-center justify-center bg-black text-white bg-opacity-75 rounded-full absolute right-1 top-1 text-xs",children:e(xe,{})})},U()))}),c("div",{className:"flex gap-1 mt-3",children:[e("button",{type:"button",onClick:()=>l(!0),className:"btn !w-fit",children:e(Me,{})}),e("button",{type:"submit",className:"btn-2 bg-blue-500",children:b==null?void 0:b.tweet})]})]})]}),e($,{isOpen:s,close:()=>l(!1),children:e(Oe,{takePic:C,selectPic:R})})]})},Et=a=>{const{account:t}=je(),[n,r]=d.exports.useState(!1),[i,s]=d.exports.useState(!1),[l,u]=d.exports.useState(!1),{setBigView:p,locales:m}=N();d.exports.useEffect(()=>{r(!1),Object.keys(a.likes).map(g=>{a.likes[g].username==(t==null?void 0:t.username)&&r(!0)})},[t,a]);const h=()=>{f("likeTweet",{id:a.id})},o=()=>{f("delTweet",{id:a.id})};return c("div",{className:"w-full h-fit flex flex-col gap-2 p-2 bg-black dark:bg-white !bg-opacity-5 rounded-sm",children:[c("div",{className:"flex gap-3",children:[e(ee,{className:"flex-none w-10 h-10 !text-sm",name:a.user.name,avatar:a.user.avatar}),c("div",{className:"w-full",children:[c("div",{className:"flex items-center mb-1 justify-between w-full",children:[e("div",{className:"flex gap-1 items-center",children:c("p",{children:["@",a.user.name]})}),e("p",{className:"text-xs opacity-60 font-normal mr-1 capitalize",children:pe(new Date(a.date*1e3),Se(new Date,new Date(a.date*1e3))<1?"HH:mm":"dd/LL/yyyy")})]}),c("div",{children:[e("p",{className:"break-all font-normal grid gap-1",children:a.msg}),a.images.length>0&&e("div",{className:`grid ${a.images.length<2?"grid-cols-1":"grid-cols-2"}  gap-1 mt-2`,children:a.images.map(g=>e("div",{onClick:()=>p(g),className:`w-full ${a.images.length<2?"h-[120px]":"h-[50px]"} relative rounded-md bg-cover bg-center`,style:{backgroundImage:`url(${g})`}},U()))})]})]})]}),e(L,{className:"!m-1"}),c("div",{className:"w-full p-1 flex",children:[e(A,{title:n?m==null?void 0:m.unlikeTweet:m==null?void 0:m.likeTweet,children:e("button",{onClick:h,className:"w-full flex justify-center items-center",children:c("p",{className:"flex items-center gap-2",children:[a.likes.length," ",n?e(ln,{}):e(cn,{})]})})}),e(A,{title:m==null?void 0:m.reply,children:e("button",{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:()=>a.reply(a.user.name),className:"w-full flex justify-center items-center",children:i?e(De,{}):e(on,{})})}),(t==null?void 0:t.username)===a.user.name&&e(A,{title:m==null?void 0:m.delete,children:e("button",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:o,className:"w-full flex justify-center items-center text-red-500",children:l?e(dn,{}):e(un,{})})})]})]})},Oe=({takePic:a,selectPic:t})=>{const[n,r]=d.exports.useState([]);return d.exports.useEffect(()=>{f("getGallery").then(s=>r(s))},[]),c("div",{children:[e("button",{className:"btn mb-2",onClick:a,children:"Take Picture"}),c("form",{onSubmit:s=>{s.preventDefault(),t(s.target.img.value)},className:"flex gap-1",children:[e("input",{name:"img",className:"w-full rounded-sm !bg-opacity-5 bg-black dark:bg-white p-1 text-zinc-900 dark:text-white px-2 dark:placeholder:text-white placeholder:!text-opacity-30 focus:ring-2 focus:bg-opacity-10 hover:bg-opacity-10 transition-all ring-blue-400 outline-none font-medium",placeholder:"Custom Image .(png|jpeg|gif)",type:"url",required:!0}),e("button",{className:"btn !w-fit",type:"submit",children:"Use"})]}),e(L,{}),n.length>0?e(fe,{children:e("div",{className:"grid grid-cols-3 gap-1 mt-2 h-fit min-h-fit max-h-[200px] overflow-auto",children:n.map(s=>e("div",{onClick:()=>t(s.img),className:"w-full h-[50px] relative rounded-md bg-cover bg-center",style:{backgroundImage:`url(${s.img})`}},U()))})}):e("div",{className:"text-center mt-2",children:"No Photos Found"})]})},ua=({args:a})=>{const{locales:t}=N(),[n,r]=d.exports.useState([]);return d.exports.useEffect(()=>{f("getTweets").then(s=>r(s));const i=s=>{s.data.type==="refreshTweets"&&r(s.data.tweets)};return window.addEventListener("message",i),()=>{window.removeEventListener("message",i)}},[]),e("div",{className:"w-full h-full px-5 py-2 overflow-auto grid gap-1 content-start",children:n.length>0?n.map(i=>e(Et,J(z({},i),{reply:a.reply}),i.id)):e("div",{className:"text-center mt-2",children:t==null?void 0:t.noTweetsFound})})},ma=({args:a})=>{const{locales:t}=N(),[n,r]=d.exports.useState([]);return d.exports.useEffect(()=>{f("twitter:markRead"),f("getMentions").then(s=>r(s));const i=s=>{s.data.type==="refreshMentions"&&r(s.data.mentions)};return window.addEventListener("message",i),()=>{window.removeEventListener("message",i)}},[]),e("div",{className:"w-full h-full px-5 py-2 overflow-auto grid gap-1 content-start",children:n.length>0?n.map(i=>e(Et,J(z({},i),{reply:a.reply}),i.id)):e("div",{className:"text-center mt-2",children:t==null?void 0:t.noMentionsFound})})},pa=({setPage:a,page:t})=>{const[n,r]=d.exports.useState(0),{locales:i}=N();return d.exports.useEffect(()=>{f("twitter:getUnread").then(l=>{r(l)});const s=l=>{l.data.type==="refreshMentions"&&r(l.data.notifications)};return window.addEventListener("message",s),()=>{window.removeEventListener("message",s)}},[t]),c("div",{className:"flex !bg-opacity-5 bg-black dark:bg-white h-[8rem] mt-2 pt-3 select-none border-black dark:border-white !border-opacity-10 border justify-between bottom-0 left-0 w-full",children:[c("div",{onClick:()=>a({page:"main"}),className:`flex flex-col gap-1 items-center w-full cursor-pointer hover:text-blue-500 !bg-opacity-5 ${t==="main"&&"text-blue-500"}`,children:[e(Ze,{}),e("p",{children:i==null?void 0:i.tweets})]}),e("div",{onClick:()=>a({page:"dms"}),className:`flex flex-col gap-1 items-center w-full cursor-pointer hover:text-blue-500 !bg-opacity-5 ${t==="dms"&&"text-blue-500"}`,children:c("div",{className:"w-fit h-fit flex justify-center flex-col items-center relative",children:[n>0&&e("div",{className:"flex px-2 select-none items-center justify-center text-white text-xs rounded-full bg-red-500 absolute right-3 -top-1",children:n}),e(rn,{}),e("p",{children:i==null?void 0:i.mentions})]})})]})},ha=()=>{var D,K,ae,me,re,ge,we,ve,P,X,se;const a=oe(),t=Y(),[n,r]=d.exports.useState(!!((D=a==null?void 0:a.state)==null?void 0:D.images)),[i,s]=d.exports.useState(!1),[l,u]=d.exports.useState(!1),[p,m]=d.exports.useState(null),[h,o]=d.exports.useState(!1),[g,b]=d.exports.useState(!0),[x,k]=d.exports.useState([]),[w,T]=d.exports.useState(null),[M,y]=d.exports.useState(((K=a==null?void 0:a.state)==null?void 0:K.images)?(ae=a==null?void 0:a.state)==null?void 0:ae.images:[]),{setBigView:C,flightMode:R,locales:v}=N(),F=d.exports.useRef(null),q=d.exports.useRef(null);d.exports.useEffect(()=>{var B;((B=a==null?void 0:a.state)==null?void 0:B.data)&&(o(a.state.data.name),b(a.state.data.number)),T(null),f("getAds").then(le=>{k(le)});const I=le=>{le.data.type.includes("refreshAds")&&f("getAds").then(Ne=>{k(Ne)})};return window.addEventListener("message",I),()=>{window.removeEventListener("message",I)}},[]),d.exports.useEffect(()=>{n||(y([]),a.state=null,o(!1))},[n]);const H=I=>{const B=I.target.value.toLowerCase();var le=x.filter(Ne=>Ne.message.toLowerCase().includes(B)|Ne.title.toLowerCase().includes(B));T(le)},j=I=>{I.preventDefault(),f("addAd",{id:U(),msg:I.target.msg.value,title:I.target.title.value,name:h,number:g,images:M}),r(!1)},W=()=>{t("/camera",{state:{images:M,app:"ads",data:{title:F.current.value,content:q.current.value,number:g,name:h}}})},_=I=>{y(B=>[...B,I]),s(!1)},E=(I,B)=>{I.stopPropagation(),y(le=>le.filter((Ne,V)=>V!==B))},Z=I=>{m(I),u(!0)},Q=()=>{f("delAd",{id:p}).then(()=>u(!1))};return R?e(ue,{}):c(S,{className:"px-5 pt-10 pb-[8rem]",children:[e(O,{children:v==null?void 0:v.adTitle}),c("div",{className:"flex gap-1",children:[e("input",{className:"w-full rounded-sm !bg-opacity-5 bg-black dark:bg-white p-1 text-zinc-900 dark:text-white px-2 dark:placeholder:text-white placeholder:!text-opacity-30 focus:ring-2 focus:bg-opacity-10 hover:bg-opacity-10 transition-all ring-blue-400 outline-none font-medium",placeholder:v==null?void 0:v.searchAds,onChange:H}),e("button",{onClick:()=>r(!0),className:"btn !w-fit !rounded-sm",children:e(Ee,{})})]}),e(L,{}),e("div",{className:"grid gap-1 w-full h-full overflow-auto content-start",children:x.length>0?w?w.length>0&&w.map(I=>e(Lt,J(z({},I),{del:Z}),I.id)):x.map(I=>e(Lt,J(z({},I),{del:Z}),I.id)):e("div",{className:"text-center mt-2",children:v==null?void 0:v.noAdsFound})}),e($,{isOpen:n,close:()=>r(!1),children:c("form",{onSubmit:j,className:"grid gap-1",children:[c("div",{children:[e("label",{children:v==null?void 0:v.title}),e("input",{name:"title",ref:F,className:"input",maxLength:30,defaultValue:((re=(me=a==null?void 0:a.state)==null?void 0:me.data)==null?void 0:re.title)?(we=(ge=a==null?void 0:a.state)==null?void 0:ge.data)==null?void 0:we.title:"",required:!0})]}),c("div",{children:[e("label",{children:v==null?void 0:v.description}),e("textarea",{name:"msg",className:"input resize-none",rows:5,maxLength:244,minLength:3,defaultValue:((P=(ve=a==null?void 0:a.state)==null?void 0:ve.data)==null?void 0:P.content)?(se=(X=a==null?void 0:a.state)==null?void 0:X.data)==null?void 0:se.content:"",ref:q,required:!0})]}),e(L,{}),c("div",{className:"grid gap-1",children:[e(he,{checked:h,onChange:I=>o(I.target.checked),label:v==null?void 0:v.includeName}),e(he,{checked:g,onChange:I=>b(I.target.checked),label:v==null?void 0:v.includeNumber})]}),e(L,{}),M.length>0&&e("div",{className:"grid grid-cols-3 gap-1 mb-2",children:M.map((I,B)=>e("div",{onClick:()=>C(I),className:"w-full h-[50px] relative rounded-md bg-cover bg-center",style:{backgroundImage:`url(${I})`},children:e("button",{onClick:le=>E(le,B),className:"w-[20px] h-[20px] flex items-center justify-center bg-black text-white bg-opacity-75 rounded-full absolute right-1 top-1 text-xs",children:e(xe,{})})},U()))}),c("div",{className:"flex gap-1",children:[e("button",{type:"button",onClick:()=>s(!0),className:"btn !w-fit",children:e(Me,{})}),e("button",{type:"submit",className:"btn",children:v==null?void 0:v.create})]})]})}),e($,{isOpen:i,close:()=>s(!1),children:e(Oe,{takePic:W,selectPic:_})}),c($,{isOpen:l,close:()=>u(!1),children:[e("h1",{className:"text-lg mb-1",children:v==null?void 0:v.deleteAd}),c("div",{className:"flex gap-1 mt-3",children:[e("button",{className:"btn",onClick:()=>u(!1),children:v==null?void 0:v.cancel}),e("button",{onClick:Q,className:"btn-2 bg-red-500",children:v.delete})]})]})]})},Lt=({id:a,message:t,title:n,name:r,number:i,images:s,del:l,canDelete:u})=>{const{setBigView:p}=N();return c("div",{onContextMenu:()=>u&&l(a),className:"p-2 text-center  text-sm bg-yellow-500 !text-zinc-900 rounded-sm",children:[e("p",{className:"mb-1 break-words font-bold",children:n}),e("p",{className:"break-words",children:t}),s.length>0&&e("div",{className:`grid ${s.length<2?"grid-cols-1":"grid-cols-2"}  gap-1 mt-2`,children:s.map(m=>e("div",{onClick:()=>p(m),className:`w-full ${s.length<2?"h-[120px]":"h-[50px]"} relative rounded-md bg-cover bg-center`,style:{backgroundImage:`url(${m})`}},U()))}),c("div",{className:"flex w-full text-xs text-center mt-2",children:[r&&e("p",{className:"w-full border-r border-zinc-900",children:r}),i&&e("p",{className:"w-full",children:i})]})]})},ga=()=>{const{flightMode:a}=N(),[t,n]=d.exports.useState({page:"main"}),r=[{name:"main",Element:fa}];return a?e(ue,{}):e(S,{children:e(de,{page:t,pages:r,setPage:n})})},fa=({setPage:a})=>{const[t,n]=d.exports.useState([]),[r,i]=d.exports.useState(null),[s,l]=d.exports.useState(null),{downloads:u,startDownload:p,locales:m}=N();d.exports.useEffect(()=>{f("getApps").then(b=>{l(b.apps),n(b.installed)});const g=b=>{const x=b.detail.app;x&&n(k=>[...k,x])};return window.addEventListener("downloadFinished",g),()=>{window.removeEventListener("downloadFinished",g)}},[]);const h=g=>{n(b=>b.filter(x=>x!==g)),f("uninstallApp",{app:g})},o=g=>{const b=g.target.value.toLowerCase();var x=s.filter(k=>k.name.toLowerCase().includes(b));i(x)};return c(S,{className:"px-5 pt-10 pb-10 flex flex-col",children:[e(O,{children:m==null?void 0:m.appstoreTitle}),e("input",{className:"input",onChange:o,placeholder:m==null?void 0:m.searchApps}),e("div",{className:"grid gap-1 mt-4 content-start overflow-auto",children:s?s.length>0?r?r.length>0&&r.map(g=>e(Pt,J(z({},g),{installing:u.filter(b=>b.app===g.id).length>0,installed:t.includes(g.id),download:p,uninstall:h}),g.id+"search")):s.map(g=>e(Pt,J(z({},g),{installing:u.filter(b=>b.app===g.id).length>0,installed:t.includes(g.id),download:p,uninstall:h}),g.id)):e("p",{className:"text-center",children:"No Apps Found"}):e(mn,{className:"mx-2"})})]})},Pt=({id:a,name:t,installing:n,download:r,installed:i,uninstall:s})=>{const{locales:l}=N(),u=()=>{r({app:a})},p=()=>{s(a)};return c("div",{className:"flex items-center justify-between gap-2 w-full dark:bg-white bg-black !bg-opacity-5 rounded-md p-2",children:[c("div",{className:"flex items-center gap-3",children:[e("img",{src:`./apps/${a}.svg`,width:"40px"}),e("h1",{className:"text-lg",children:t})]}),e(A,{title:i&&!n?l==null?void 0:l.remove:n?l==null?void 0:l.installing:l==null?void 0:l.install,children:e("span",{children:e(G.button,{disabled:n,onClick:i&&!n?p:u,animate:{borderRadius:n?"50%":"15%"},transition:{ease:"easeInOut"},className:`flex w-10 outline-none h-10 items-center justify-center dark:bg-white bg-black p-2 ${n?"rounded-full":"rounded-md"} !bg-opacity-5 ${!n&&"hover:!bg-opacity-10"}`,children:i&&!n?e(xe,{}):n?e(Xe,{size:"14pt"}):e(pn,{})})})})]})},ba=()=>{const[a,t]=d.exports.useState(!1),[n,r]=d.exports.useState(!1),[i,s]=d.exports.useState(null),l=d.exports.useRef(null),u=d.exports.useRef(null),{flightMode:p,locales:m}=N();d.exports.useEffect(()=>{f("getBank").then(g=>{s(g.bank)})},[]);const h=()=>{var g,b;r(!1),t(!0),f("transfer",{id:(g=l.current)==null?void 0:g.value,amt:(b=u.current)==null?void 0:b.value}).then(()=>{t(!1),f("getBank").then(x=>{s(x.bank)})})},o=g=>{g.preventDefault(),r(!0)};return p?e(ue,{}):c(S,{className:"px-5 pt-10",children:[e(O,{children:m==null?void 0:m.bankingTitle}),e(xa,{amt:i}),e(L,{className:"mt-4"}),c("div",{className:"w-full",children:[e("p",{className:"text-lg text-center mb-2",children:m==null?void 0:m.transfer}),c("form",{onSubmit:o,children:[c("div",{className:"grid gap-2",children:[e("input",{className:"input text-md !p-2 !rounded-full text-center",required:!0,ref:u,placeholder:m==null?void 0:m.amount}),e("input",{className:"input text-md !p-2 !rounded-full text-center",ref:l,required:!0,placeholder:m==null?void 0:m.playerId})]}),e("button",{type:"submit",disabled:a,className:"btn-2 bg-blue-500 mt-3 text-lg !rounded-xl flex items-center justify-center brightness-100 disabled:brightness-75 disabled:cursor-default",children:m==null?void 0:m.transfer})]})]}),c($,{isOpen:n,close:()=>r(!1),children:[e("h1",{className:"mb-2 text-lg",children:m==null?void 0:m.hangOn}),e("p",{className:"dark:text-slate-200",children:m==null?void 0:m.everythingGood}),c("div",{className:"grid grid-cols-2 gap-1 mt-3",children:[e("button",{className:"btn",onClick:()=>r(!1),children:m==null?void 0:m.no}),e("button",{className:"btn",onClick:h,children:m==null?void 0:m.yes})]})]})]})},xa=({amt:a})=>c("div",{className:"relative w-full h-[150px] rounded-md bg-gradient-to-br from-slate-400 to-blue-900 shadow",children:[e(A,{title:a?`$${a==null?void 0:a.toLocaleString()}`:"",children:c("div",{className:"absolute max-w-[150px] font-mono overflow-hidden text-ellipsis left-2 bottom-3 text-xl bg-slate-100 dark:bg-zinc-800 rounded-md px-1",children:["$",a==null?void 0:a.toLocaleString()]})}),e("div",{className:"absolute flex items-center gap-2 right-2 text-[44px] text-gray-100 bottom-2",children:e(hn,{})})]}),Tt=Intl.NumberFormat("en-us",{maximumFractionDigits:0}),jt=a=>{if(a===null)return;const[t,n]=a.split(".");return n?parseFloat(`${Tt.format(t)}.${n}`).toFixed(1):Tt.format(t)},wa=()=>{const[a,t]=d.exports.useState(null),[n,r]=d.exports.useState(null),[i,s]=d.exports.useState(null),[l,u]=d.exports.useState(!1),p=()=>{t(null),r(null),s(null)},m=b=>{if(l){u(!1),t(b);return}b==="0"&&a==="0"||b==="."&&a.includes(".")||t(x=>`${x||""}${b}`)},h=b=>{if(!(!a&&!n)){if(!a){s(b);return}if(!n){s(b),r(a),t(null);return}s(b),r(g()),t(null)}},o=()=>{!i||!a||!n||(t(g()),r(null),s(null),u(!0))},g=()=>{const b=parseFloat(n),x=parseFloat(a);if(isNaN(b)||isNaN(x))return;let k="";switch(i){case"+":k=b+x;break;case"-":k=b-x;break;case"\xD7":k=b*x;break;case"\xF7":k=b/x;break}return k.toString()};return c(S,{className:"px-5 py-10",children:[e("div",{className:"w-full relative flex flex-col overflow-hidden items-end justify-end h-[10rem] mb-7",children:c("div",{className:"relative w-full text-right",children:[c(rt,{mode:"single",forceSingleModeWidth:!0,min:1,max:30,className:"opacity-50",children:[jt(n)," ",i]}),e(rt,{mode:"single",forceSingleModeWidth:!0,min:1,max:60,children:jt(a)})]})}),c("div",{className:"grid grid-cols-4 gap-2",children:[e("div",{onClick:p,className:"p-5 select-none cursor-pointer col-span-3 grid-cols-3 rounded-md bg-gray-500 flex items-center justify-center text-xl",children:"AC"}),e(te,{operation:"\xF7",onClick:h}),e(te,{number:"7",onClick:m}),e(te,{number:"8",onClick:m}),e(te,{number:"9",onClick:m}),e(te,{operation:"\xD7",onClick:h}),e(te,{number:"4",onClick:m}),e(te,{number:"5",onClick:m}),e(te,{number:"6",onClick:m}),e(te,{operation:"-",onClick:h}),e(te,{number:"1",onClick:m}),e(te,{number:"2",onClick:m}),e(te,{number:"3",onClick:m}),e(te,{operation:"+",onClick:h}),e(te,{number:"0",onClick:m}),e(te,{number:".",onClick:m}),e("div",{onClick:o,className:"p-5 select-none cursor-pointer rounded-md col-span-2 grid-cols-3 bg-blue-500 flex items-center justify-center text-xl",children:"="})]})]})},te=({number:a,operation:t,onClick:n})=>e("div",{onClick:()=>n(t||a),className:`p-5 transition-all select-none cursor-pointer flex items-center justify-center rounded-md text-xl ${t?"bg-blue-500 bg-opacity-100":"dark:bg-white bg-black !bg-opacity-5 hover:!bg-opacity-10"}`,children:t||a}),va=()=>{var m;const a=oe(),t=Y(),[n,r]=d.exports.useState(!0),[i,s]=d.exports.useState(!1);d.exports.useEffect(()=>{var h=!1;f("openCamera").then(()=>{let g=document.getElementById("local");window.mainRender.render(g),r(!1)});const o=g=>{g.which===2&&(h=!h,f("freeMove",{toggle:h}))};return document.addEventListener("mouseup",o),()=>{f("closeCamera").then(()=>{window.mainRender.stop()}),document.removeEventListener("mouseup",o)}},[]);const l=async()=>{var o;s(!0),r(!0),Te("./shutter.mp3");const h=await window.mainRender.takeScreenshot();if((o=a==null?void 0:a.state)==null?void 0:o.images){const g=a.state.images;g.push(h),t(`/${a.state.app}`,{state:{images:g,data:a.state.data}});return}f("addImage",{img:h,id:U()}).then(()=>{s(!1),r(!1)})},u=()=>{r(!0),window.mainRender.stop(),f("switchCam").then(()=>{let h=document.getElementById("local");window.mainRender.render(h),r(!1)})},p=()=>{t("/gallery")};return c(S,{className:"relative flex pt-8",children:[e("canvas",{id:"local",className:"w-full h-full border-t-2 border-black dark:border-white border-opacity-70"}),c("footer",{className:"absolute border-t-2 border-black dark:border-white border-opacity-70 bottom-0 flex items-center gap-8 justify-center w-full px-5 pb-12 pt-3 bg-gray-200 dark:bg-zinc-900",children:[((m=a==null?void 0:a.state)==null?void 0:m.images)?e("button",{onClick:()=>t(`/${a.state.app}`,{state:{images:a.state.images}}),disabled:n,className:"back-btn !w-12 !h-12",children:e(ne,{})}):e("button",{onClick:p,disabled:n,className:"back-btn !w-12 !h-12",children:e(Ge,{})}),e("button",{onClick:l,disabled:n,className:"back-btn !p-2 !w-16 !h-16",children:i?e("img",{src:"./loader.svg",width:"100px",height:"100px"}):e("div",{className:"rounded-full w-full h-full bg-zinc-900 dark:bg-white"})}),e("button",{onClick:u,disabled:n,className:"back-btn !text-xl !w-12 !h-12",children:e(gn,{})})]})]})},Na=({setPage:a,args:t})=>{const[n,r]=d.exports.useState(!1),[i,s]=d.exports.useState(null),l=d.exports.useRef(null),{locales:u}=N(),p=()=>{var o;var h=(o=l==null?void 0:l.current)==null?void 0:o.value;h&&(s(h),r(!1))},m=h=>{h.preventDefault();var o=h.target.name.value,g=h.target.number.value;f("addContact",{id:U(),name:o,number:g,profile:i}).then(()=>a("main"))};return c(S,{className:"absolute pt-10 px-5",children:[e(O,{className:"flex gap-2",children:e("button",{onClick:()=>a("main"),className:"back-btn",children:e(ne,{})})}),c("div",{className:"flex flex-col gap-2 items-center w-full",children:[e(A,{title:u==null?void 0:u.setContactImage,enterDelay:300,leaveDelay:0,children:e("div",{className:"hover:brightness-75 cursor-pointer",onClick:()=>r(!0),children:e(ee,{avatar:i})})}),c("form",{onSubmit:m,className:"w-full text-center grid gap-1 mt-3",children:[e("input",{className:"input",name:"name",placeholder:"Name",required:!0}),e("input",{className:"input",name:"number",placeholder:u==null?void 0:u.phoneNumber,type:"tel",defaultValue:t&&(t==null?void 0:t.number),required:!0}),e(L,{}),e("button",{className:"btn",children:u==null?void 0:u.add})]})]}),c($,{isOpen:n,close:()=>r(!1),children:[e("label",{children:u==null?void 0:u.contactImage}),e("input",{className:"w-full mt-1 rounded-sm !bg-opacity-5 bg-black dark:bg-white p-1 text-zinc-900 dark:text-white px-2 dark:placeholder:text-white placeholder:!text-opacity-30 focus:ring-2 focus:bg-opacity-10 hover:bg-opacity-10 transition-all ring-blue-400 outline-none font-medium",placeholder:".(png|jpeg|gif)",ref:l}),e("div",{className:"grid gap-1 mt-3",children:e("button",{className:"btn",onClick:p,children:u==null?void 0:u.set})})]})]})},ya=({setPage:a,args:t})=>{var R;const[n,r]=d.exports.useState(!1),[i,s]=d.exports.useState(!1),[l,u]=d.exports.useState(!1),[p,m]=d.exports.useState(t.profile),h=d.exports.useRef(null),o=d.exports.useRef(null),g=d.exports.useRef(null),b=Y(),{locales:x}=N(),k=()=>{var F;var v=(F=g==null?void 0:g.current)==null?void 0:F.value;v&&(m(v),r(!1))},w=()=>{var v=l;u(F=>!F),setTimeout(()=>{var F,q,H;v?f("editContact",{id:t.id,name:(q=h.current)==null?void 0:q.value,number:(H=o.current)==null?void 0:H.value,profile:p}).then(()=>{var j,W;t.name=(j=h.current)==null?void 0:j.value,t.number=(W=o.current)==null?void 0:W.value,t.profile=p}):(F=h.current)==null||F.focus()})},T=()=>{f("removeContact",{id:t.id}).then(()=>{s(!1),a("main")})},M=()=>{h.current.value=t.name,o.current.value=t.number,m(t.profile),u(!1)},y=()=>{f("call",{number:t.number})},C=()=>{b("/messages",{state:{data:{number:t.number}}})};return c(S,{className:"absolute pt-10 px-5",children:[e(O,{className:"flex gap-2",children:e("button",{onClick:()=>a("main"),className:"back-btn",children:e(ne,{})})}),c("div",{className:"flex flex-col gap-2 items-center w-full",children:[e(A,{title:l?x==null?void 0:x.changeContactImage:"",enterDelay:300,leaveDelay:0,children:e("div",{onClick:()=>l&&r(!0),className:`${l&&"hover:brightness-75 cursor-pointer"}`,children:e(ee,{name:((R=h.current)==null?void 0:R.value)?h.current.value:t.name,avatar:p})})}),e("input",{defaultValue:t.name,spellCheck:!1,disabled:!l,ref:h,readOnly:!l,placeholder:x==null?void 0:x.name,className:`bg-opacity-0 ${l&&"!bg-opacity-5 outline-none"} bg-white rounded-sm p-1 text-zinc-900 dark:text-white focus:ring mt-1 whitespace-nowrap overflow-hidden text-ellipsis ring-blue-400 text-center text-2xl`}),!l&&c("div",{className:"flex gap-2 mt-1",children:[e(A,{title:x==null?void 0:x.call,children:e("button",{onClick:y,className:"back-btn",children:e(Ce,{})})}),e(A,{title:x==null?void 0:x.message,children:e("button",{onClick:C,className:"back-btn",children:e(De,{})})})]}),e("div",{className:"w-full text-center grid gap-1",children:!t.default&&c(fe,{children:[e(L,{}),e("input",{className:`input text-center ${!l&&"!bg-transparent"}`,defaultValue:t.number&&t.number,placeholder:x==null?void 0:x.phoneNumber,disabled:!l,readOnly:!l,ref:o}),e(L,{}),e("button",{className:"btn",onClick:w,children:l?x==null?void 0:x.save:x==null?void 0:x.edit}),l&&e("button",{className:"btn",onClick:M,children:"Cancel"}),!l&&e("button",{className:"btn text-red-500",onClick:()=>s(!0),children:x==null?void 0:x.delete})]})})]}),c($,{isOpen:n,close:()=>r(!1),children:[e("label",{children:x==null?void 0:x.contactImage}),e("input",{className:"w-full mt-1 rounded-sm !bg-opacity-5 bg-black dark:bg-white p-1 text-zinc-900 dark:text-white px-2 dark:placeholder:text-white placeholder:!text-opacity-30 focus:ring-2 focus:bg-opacity-10 hover:bg-opacity-10 transition-all ring-blue-400 outline-none font-medium",placeholder:".(png|jpeg|gif)",ref:g}),e("div",{className:"grid gap-1 mt-3",children:e("button",{className:"btn",onClick:k,children:"Set"})})]}),c($,{isOpen:i,close:()=>s(!1),children:[e("p",{children:x==null?void 0:x.deleteContact}),c("div",{className:"flex gap-2 mt-3",children:[e("button",{onClick:()=>s(!1),className:"btn",children:x==null?void 0:x.no}),e("button",{className:"btn text-red-500",onClick:T,children:x==null?void 0:x.delete})]})]})]})},ka=()=>{const a=oe(),[t,n]=d.exports.useState({page:"main"}),{flightMode:r}=N(),i=[{name:"main",Element:Ca},{name:"contact",Element:ya},{name:"add",Element:Na}];return d.exports.useEffect(()=>{var s,l;(((s=a.state)==null?void 0:s.adding)||((l=a.state)==null?void 0:l.contact))&&(a.state.adding?n({page:"add",args:{number:a.state.number}}):n({page:"contact",args:a.state.contact}))},[a]),r?e(ue,{}):e(S,{children:e(de,{page:t,setPage:n,pages:i})})},Ca=({setPage:a})=>{const[t,n]=d.exports.useState([]),[r,i]=d.exports.useState(null),{locales:s}=N(),l=u=>{const p=u.target.value.toLowerCase();var m=t.filter(h=>h.name.toLowerCase().includes(p));i(m)};return d.exports.useEffect(()=>{i(null),f("getContacts").then(u=>{n(u)})},[]),c(S,{className:"pt-10 pb-10 flex flex-col px-5 absolute",children:[e(O,{children:s==null?void 0:s.contactsTitle}),c("div",{className:"flex gap-1",children:[e("input",{className:"w-full rounded-sm !bg-opacity-5 bg-black dark:bg-white p-1 text-zinc-900 dark:text-white px-2 dark:placeholder:text-white placeholder:!text-opacity-30 focus:ring-2 focus:bg-opacity-10 hover:bg-opacity-10 transition-all ring-blue-400 outline-none font-medium",placeholder:s==null?void 0:s.searchContacts,onChange:l}),e("button",{onClick:()=>a("add"),className:"btn !w-fit !rounded-sm",children:e(Ee,{})})]}),e(L,{}),e("div",{className:"grid gap-1 overflow-auto",children:t.length>0?r?r.length>0&&r.map(u=>e(At,{number:u.number,name:u.name,favourite:!1,onClick:()=>a("contact",u)},U())):t.map(u=>e(At,{number:u.number,name:u.name,favourite:!1,onClick:()=>a("contact",u)},U())):e("div",{className:"text-center mt-2",children:s==null?void 0:s.noContactsFound})})]})},At=({name:a,number:t,onClick:n,favourite:r})=>{const i=Y(),{locales:s}=N(),l=p=>{p.stopPropagation(),f("call",{number:t})},u=p=>{p.stopPropagation(),i("/messages",{state:{data:{number:t}}})};return c("div",{onClick:n,className:"p-2 cursor-pointer flex justify-between items-center rounded-md hover:!bg-opacity-10 bg-black dark:bg-white !bg-opacity-5",children:[c("div",{className:"flex gap-2 items-center",children:[r&&e("p",{className:"text-yellow-500",children:e(fn,{})}),e("h1",{children:a})]}),c("div",{className:"flex gap-2 items-center",children:[e(A,{title:s==null?void 0:s.call,children:e("button",{onClick:l,className:"p-1 opacity-50 hover:opacity-100",children:e(Ce,{})})}),e(A,{title:s==null?void 0:s.message,children:e("button",{onClick:u,className:"p-1 opacity-50 hover:opacity-100",children:e(De,{})})})]})]})},Sa=()=>{const[a,t]=d.exports.useState([]),{flightMode:n,locales:r}=N();return d.exports.useEffect(()=>{f("getDispatchCalls").then(s=>t(s));const i=s=>{s.data.type==="refreshDispatch"&&t(s.data.calls)};return window.addEventListener("message",i),()=>{window.removeEventListener("message",i)}},[]),n?e(ue,{}):c(S,{className:"px-5 py-10 flex flex-col",children:[e(O,{children:r==null?void 0:r.dispatchTitle}),e("div",{className:"grid gap-1 overflow-auto",children:a.length>0?a.map(i=>e(Ma,z({},i),i.id)):e("div",{className:"text-center mt-2",children:r==null?void 0:r.noCalloutsFound})})]})},Ma=({id:a,from:t,call:n,responding:r,date:i})=>{const{locales:s}=N(),l=()=>{f("dispatch:respond",{id:a})},u=p=>{p.stopPropagation(),f("call",{number:t})};return c("div",{onClick:l,className:"dark:bg-white h-fit hover:!bg-opacity-10 overflow-hidden !bg-opacity-5 relative w-full bg-black p-2 rounded-md",children:[c("div",{className:"flex justify-between items-center gap-1 mb-1",children:[c("p",{className:"flex items-center gap-2",children:[e(Ce,{className:"text-blue-500"}),t]}),e("p",{className:"text-gray-400 text-sm",children:pe(new Date(i*1e3),Se(new Date,new Date(i*1e3))<1?"HH:mm":"dd/LL/yyyy")})]}),e("p",{className:"w-full text-ellipsis overflow-hidden whitespace-nowrap",children:n}),c("div",{className:"flex justify-between border-t !border-opacity-10 dark:border-white border-black pt-2 mt-2",children:[e(A,{title:s==null?void 0:s.responding,children:e("button",{className:"w-full flex items-center justify-center",children:c("p",{className:"flex items-center gap-2",children:[e(bn,{}),r.length]})})}),e(A,{title:s==null?void 0:s.call,children:e("button",{onClick:u,className:"w-full",children:e("p",{className:"w-full flex items-center justify-center gap-2",children:e(Ce,{})})})})]})]})},Ea=()=>{const[a,t]=d.exports.useState([]),[n,r]=d.exports.useState(!1),[i,s]=d.exports.useState(null),l=Y(),{changeBackground:u,locales:p}=N();d.exports.useEffect(()=>{f("getGallery").then(b=>{t(b)})},[]);const m=()=>{u(i.image),r(!1),s(null)},h=()=>{f("deleteImg",{id:i.id}).then(()=>{f("getGallery").then(b=>{t(b)})}),r(!1),s(null)},o=()=>{const b=document.createElement("textarea");b.value=i.image,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b),r(!1),s(null)},g=b=>{s(b),r(!0)};return c(S,{className:"px-5 pt-10 pb-10 flex flex-col",children:[c(O,{className:"flex items-center justify-between",children:[e("p",{children:p==null?void 0:p.galleryTitle}),e(A,{title:p==null?void 0:p.camera,children:e("button",{onClick:()=>l("/camera"),className:"back-btn focus:ring ring-blue-400",children:e(Me,{})})})]}),e("div",{className:"grid grid-cols-2 overflow-auto gap-2",children:a.length>0?a.map(b=>e(La,z({onContext:g},b),b.id)):e("div",{className:"text-center col-span-full mt-2",children:p==null?void 0:p.noPhotosFound})}),e($,{isOpen:n,close:()=>r(!1),children:c("div",{className:"grid gap-1",children:[e("button",{className:"btn",onClick:o,children:p==null?void 0:p.copyUrl}),e("button",{className:"btn",onClick:m,children:p==null?void 0:p.setAsBg}),e("button",{className:"btn",onClick:h,children:p==null?void 0:p.delete})]})})]})},La=({img:a,id:t,onContext:n})=>{const{setBigView:r}=N(),[i,s]=d.exports.useState(!0);return e(fe,{children:i?c(fe,{children:[e("img",{src:a,onLoad:()=>setTimeout(()=>s(!1),300),className:"hidden"}),e(qe,{variant:"rectangular",height:"80px",className:"w-full rounded-md !bg-slate-400 !bg-opacity-75"})]}):e("div",{onClick:()=>{i||r(a)},onContextMenu:p=>{p.preventDefault(),n({image:a,id:t})},className:"relative flex items-center justify-center h-[80px]",children:e(G.img,{initial:{opacity:0},animate:{opacity:1},src:a,className:"rounded-lg brightness-100 cursor-pointer absolute left-0 top-0 w-full object-center object-cover h-full shadow-xl"})})})},Pa=({args:a})=>{const[t,n]=d.exports.useState([]),{locales:r}=N();return d.exports.useEffect(()=>{f("getMailRec").then(s=>{n(s)});const i=s=>{s.data.type==="mail:refresh"&&n(s.data.mail)};return window.addEventListener("message",i),()=>{window.removeEventListener("message",i)}},[]),c(S,{className:"px-5 pt-10",children:[e(O,{children:r==null?void 0:r.inbox}),e("div",{className:"grid gap-1",children:t.length>0?t.map(i=>e(Ft,z({sent:!1,open:()=>a==null?void 0:a.openEmail(i)},i),i.id)):e("div",{className:"text-center mt-2",children:r==null?void 0:r.noMailFound})})]})},Ta=({args:a})=>{const[t,n]=d.exports.useState([]),{locales:r}=N();return d.exports.useEffect(()=>{f("getMailSent").then(s=>{n(s)});const i=s=>{s.data.type==="mail:refreshSent"&&n(s.data.mail)};return window.addEventListener("message",i),()=>{window.removeEventListener("message",i)}},[]),c(S,{className:"px-5 py-10",children:[e(O,{children:r==null?void 0:r.sent}),e("div",{className:"grid gap-1",children:t.length>0?t.map(i=>e(Ft,z({open:()=>a==null?void 0:a.openEmail(J(z({},i),{sent:!0})),sent:!0},i),i.id)):e("div",{className:"text-center mt-2",children:r==null?void 0:r.noMailFound})})]})},ja=()=>{const[a,t]=d.exports.useState(!1),[n,r]=d.exports.useState(!1),[i,s]=d.exports.useState(null),{flightMode:l,locales:u}=N(),p=x=>{s(x),r(!0)},[m,h]=d.exports.useState({page:"main"}),o=[{name:"main",Element:Pa,args:{openEmail:p}},{name:"sent",Element:Ta,args:{openEmail:p}}];if(l)return e(ue,{});const g=x=>{x.preventDefault(),f("sendEmail",{id:U(),to:x.target.email.value,content:x.target.content.value}).then(()=>{t(!1)})},b=()=>{!i||f("removeEmail",{id:i.id}).then(()=>{r(!1),s(null)})};return c(S,{children:[e(de,{page:m,pages:o,setPage:h}),e(A,{title:u==null?void 0:u.compose,placement:"top",children:e("button",{onClick:()=>t(!0),className:"absolute bottom-[17%] right-4 rounded-full w-14 h-14 flex items-center justify-center focus:ring transition-all bg-blue-500 outline-none",children:e(Ee,{})})}),e($,{isOpen:a,close:()=>t(!1),children:c("form",{onSubmit:g,className:"grid gap-1",children:[e("label",{children:u==null?void 0:u.to}),e("div",{className:"flex gap-2 mb-1 items-center justify-center",children:e("input",{className:"input",name:"email",required:!0})}),e("label",{children:u==null?void 0:u.content}),e("textarea",{className:"input resize-none",name:"content",rows:7,minLength:3,maxLength:280,required:!0}),e(L,{}),e("button",{className:"btn",children:u==null?void 0:u.send})]})}),c($,{isOpen:n,close:()=>r(!1),children:[e("label",{children:(i==null?void 0:i.sent)?u==null?void 0:u.to:u==null?void 0:u.from}),e("div",{className:"flex gap-2 mb-1 items-center justify-center",children:e("input",{className:"input",name:"email",value:(i==null?void 0:i.sent)?i==null?void 0:i.to:i==null?void 0:i.from,readOnly:!0})}),e("label",{children:u==null?void 0:u.content}),e("textarea",{className:"input resize-none",name:"content",rows:7,value:i==null?void 0:i.content,readOnly:!0}),e(L,{}),e("button",{onClick:b,className:"btn text-red-500",children:u==null?void 0:u.remove})]}),e(Aa,{page:m.page,setPage:h})]})},Aa=({setPage:a,page:t})=>{const[n,r]=d.exports.useState(0),{locales:i}=N();return d.exports.useEffect(()=>{f("getMissedCalls").then(s=>{r(s)})},[t]),c("div",{className:"absolute flex !bg-opacity-5 bg-black dark:bg-white h-[6rem] pt-3 select-none border-black dark:border-white !border-opacity-10 border justify-between bottom-0 left-0 w-full",children:[c("div",{onClick:()=>a({page:"main"}),className:`flex flex-col gap-1 items-center w-full cursor-pointer hover:text-blue-500 !bg-opacity-5 ${t==="main"&&"text-blue-500"}`,children:[e(xn,{}),e("p",{children:i==null?void 0:i.inbox})]}),e("div",{onClick:()=>a({page:"sent"}),className:`flex flex-col gap-1 items-center w-full cursor-pointer hover:text-blue-500 !bg-opacity-5 ${t==="sent"&&"text-blue-500"}`,children:c("div",{className:"w-fit h-fit flex justify-center flex-col items-center relative",children:[n>0&&e("div",{className:"flex px-2 select-none items-center justify-center text-white text-xs rounded-full bg-red-500 absolute -right-1 -top-1",children:n}),e(st,{}),e("p",{children:i==null?void 0:i.sent})]})})]})},Ft=({content:a,date:t,from:n,open:r,sent:i,to:s})=>c("div",{onClick:r,className:"dark:bg-white overflow-hidden select-none bg-black relative flex gap-3  hover:!bg-opacity-10 cursor-pointer items-center dark:text-white !bg-opacity-5 rounded-md p-2 w-full",children:[e(ee,{className:"!w-10 !h-10 flex-none !text-sm",name:n}),c("div",{className:"w-full overflow-hidden",children:[c("div",{className:"flex w-full gap-1 justify-between",children:[e("h1",{className:"text-ellipsis overflow-hidden",children:i?s:n}),e("p",{className:"text-xs opacity-60 font-normal right-2",children:pe(new Date(t*1e3),Se(new Date,new Date(t*1e3))<1?"HH:mm":"dd/LL/yyyy")})]}),e("p",{className:"opacity-60 text-sm font-normal",children:a})]})]}),Fa=({setPage:a,args:t})=>{var Z,Q;const n=oe(),r=Y(),[i,s]=d.exports.useState([]),[l,u]=d.exports.useState(null),p=d.exports.useRef(null),[m,h]=d.exports.useState(!1),[o,g]=d.exports.useState(!1),[b,x]=d.exports.useState(null),[k,w]=d.exports.useState(((Z=n==null?void 0:n.state)==null?void 0:Z.images)?(Q=n==null?void 0:n.state)==null?void 0:Q.images:[]),{setBigView:T,locales:M}=N(),y=d.exports.useRef(null),[C,R]=d.exports.useState(!1);d.exports.useEffect(()=>{f("getChat",{number:t==null?void 0:t.number}).then(D=>{s(D.chat),u(D.contact),setTimeout(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)})})},[t,y]),d.exports.useEffect(()=>{var K,ae,me;((K=n==null?void 0:n.state)==null?void 0:K.images)&&(p.current.value=(me=(ae=n==null?void 0:n.state)==null?void 0:ae.data)==null?void 0:me.msg);const D=re=>{re.data.type===`refreshChat:${t.number}`&&f("getChat",{number:t.number}).then(ge=>{s(ge.chat),u(ge.contact),setTimeout(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)})})};return window.addEventListener("message",D),()=>{n.state=null,window.removeEventListener("message",D)}},[y]);const v=D=>{D.key=="Enter"&&(D.preventDefault(),F())},F=()=>{var D,K;(((D=p.current)==null?void 0:D.value.length)>0||k.length>0)&&(f("sendMessage",{id:U(),msg:(K=p.current)==null?void 0:K.value,number:t.number,gps:C,images:k}),p.current.value="",w([]))},q=()=>{r("/camera",{state:{images:k,app:"messages",data:{msg:p.current.value,number:t.number}}})},H=D=>{w(K=>[...K,D]),h(!1)},j=(D,K)=>{D.stopPropagation(),w(ae=>ae.filter((me,re)=>re!==K))},W=(D,K)=>{x(K),g(!0)},_=()=>{f("delMessage",{id:b.id,target:t.number}),x(null),g(!1)};return c(S,{children:[c(O,{className:"dark:bg-zinc-800 bg-slate-100 fixed w-full top-0 pt-10 mb-0 flex gap-2 px-5 pb-3 border-b dark:border-white border-black !border-opacity-10",children:[e("button",{onClick:()=>a("main"),className:"back-btn",children:e(ne,{})}),e("p",{className:"hover:text-blue-500 cursor-pointer text-ellipsis whitespace-nowrap overflow-hidden",onClick:()=>{(l==null?void 0:l.exists)?r("/contacts",{state:{adding:!1,contact:l}}):r("/contacts",{state:{adding:!0,number:t.number}})},children:l==null?void 0:l.name})]}),c("div",{className:"flex flex-col h-full w-full pt-[5.5rem]",children:[e("div",{className:"overflow-auto h-full px-1",children:e("div",{ref:y,className:"h-full px-4 flex gap-2 flex-col overflow-auto py-2",children:i==null?void 0:i.map(D=>e(Da,{msg:D.msg,id:D.id,gps:D.gps,images:D.images,date:D.timestamp,sent:D.from!==t.number,click:W},D.id))})}),e("div",{className:"h-fit dark:bg-zinc-800 bg-slate-100 pb-11 border-t dark:border-white border-black !border-opacity-10",children:c("div",{className:"h-full px-5 pt-3 flex-grow w-full",children:[k.length>0&&e("div",{className:"grid grid-cols-3 gap-1 mb-2",children:k.map((D,K)=>e("div",{onClick:()=>T(D),className:"w-full h-[50px] relative rounded-md bg-cover bg-center",style:{backgroundImage:`url(${D})`},children:e("button",{onClick:ae=>j(ae,K),className:"w-[20px] h-[20px] flex items-center justify-center bg-black text-white bg-opacity-75 rounded-full absolute right-1 top-1 text-xs",children:e(xe,{})})},U()))}),c("div",{className:"flex gap-1",children:[e(A,{title:M==null?void 0:M.location,placement:"top",children:e("button",{onClick:()=>R(!C),className:`btn-2 h-fit !w-fit ${C?"bg-blue-500 !bg-opacity-100":"bg-white !bg-opacity-5"}`,children:e(wn,{})})}),e(A,{title:M==null?void 0:M.camera,placement:"top",children:e("button",{onClick:()=>h(!0),className:"btn h-fit !w-fit",children:e(Me,{})})}),e(it,{className:"input resize-none !transition-shadow ",maxRows:5,placeholder:M==null?void 0:M.enterMessage,ref:p,onKeyDown:v,maxLength:244})]})]})})]}),e($,{isOpen:m,close:()=>h(!1),children:e(Oe,{takePic:q,selectPic:H})}),e($,{isOpen:o,close:()=>g(!1),children:e("div",{className:"grid gap-1",children:e("button",{className:"btn",onClick:_,children:M==null?void 0:M.deleteMsg})})})]})},Da=({id:a,sent:t,msg:n,gps:r,images:i,click:s,date:l})=>{const{setBigView:u}=N(),p=()=>{f("setWaypoint",{coords:r})};return c("div",{className:`flex flex-col w-full ${t?"self-end items-end justify-end":"self-start items-start justify-start"}`,children:[c("div",{onContextMenu:m=>t&&s(m,{id:a}),className:`rounded-md break-words max-w-full ${t?"dark:bg-blue-500 bg-blue-400":"bg-black dark:bg-white !bg-opacity-5"} w-fit p-2 px-3`,children:[n,i&&i.length>0&&e("div",{className:`grid min-w-[200px] ${i.length<2?"grid-cols-1":"grid-cols-2"}  gap-1 mt-2`,children:i.map(m=>e("div",{onClick:()=>u(m),className:`w-full ${i.length<2?"h-[120px]":"h-[50px]"} relative rounded-md bg-cover bg-center`,style:{backgroundImage:`url(${m})`}},U()))}),r&&e("button",{className:"btn mt-2 text-sm",onClick:p,children:"Set Waypoint"})]}),e("p",{className:"text-xs dark:text-gray-200 text-gray-500 mt-1",children:pe(new Date(l*1e3),Se(new Date,new Date(l*1e3))<1?"HH:mm":"dd/LL/yyyy")})]})},Ia=()=>{var s;const a=oe(),[t,n]=d.exports.useState(a.state?{page:"chat",args:{number:(s=a.state.data)==null?void 0:s.number}}:{page:"main"}),{flightMode:r}=N(),i=[{name:"main",Element:$a},{name:"chat",Element:Fa}];return r?e(ue,{}):e(S,{children:e(de,{page:t,pages:i,setPage:n})})},$a=({setPage:a})=>{const[t,n]=d.exports.useState([]),[r,i]=d.exports.useState(null),[s,l]=d.exports.useState(!1),[u,p]=d.exports.useState(!1),[m,h]=d.exports.useState(null),{locales:o}=N(),g=w=>{a("chat",{number:w.number})},b=w=>{const T=w.target.value.toLowerCase();var M=t.filter(y=>y.msg.toLowerCase().includes(T)|y.contact.name.toLowerCase().includes(T));i(M)};d.exports.useEffect(()=>{i(null),f("getMessages").then(T=>{n(T)});const w=T=>{T.data.type.includes("refreshChat")&&f("getMessages").then(M=>{n(M)})};return window.addEventListener("message",w),()=>{window.removeEventListener("message",w)}},[]);const x=w=>{h(w),l(!0)},k=()=>{f("closeMessage",{number:m}).then(()=>{h(null),l(!1)})};return c(S,{className:"pt-10 pb-10 flex flex-col px-5",children:[e(O,{children:o==null?void 0:o.messagesTitle}),c("div",{className:"flex gap-1",children:[e("input",{className:"w-full rounded-sm !bg-opacity-5 bg-black dark:bg-white p-1 text-zinc-900 dark:text-white px-2 dark:placeholder:text-white placeholder:!text-opacity-30 focus:ring-2 focus:bg-opacity-10 hover:bg-opacity-10 transition-all ring-blue-400 outline-none font-medium",placeholder:o==null?void 0:o.searchMessages,onChange:b}),e("button",{onClick:()=>p(!0),className:"btn !w-fit !rounded-sm",children:e(Ee,{})})]}),e(L,{}),e("div",{className:"flex gap-1 flex-col overflow-auto",children:t.length>0?r?r.length>0&&r.map(w=>e(Dt,J(z({},w),{open:g,close:x}),w.id)):t.map(w=>e(Dt,J(z({},w),{open:g,close:x}),w.id)):e("div",{className:"text-center mt-2",children:o==null?void 0:o.noMessagesFound})}),e($,{isOpen:u,close:()=>p(!1),children:e(Ra,{setPage:a})}),c($,{isOpen:s,close:()=>l(!1),children:[e("h1",{className:"text-lg mb-1",children:o==null?void 0:o.closeChat}),c("div",{className:"flex gap-1 mt-3",children:[e("button",{className:"btn",onClick:()=>l(!1),children:o==null?void 0:o.no}),e("button",{onClick:k,className:"btn-2 bg-red-500",children:o==null?void 0:o.yes})]})]})]})},Dt=({read:a,open:t,contact:n,date:r,msg:i,close:s})=>c("div",{onContextMenu:()=>s(n.number),onClick:()=>t(n),className:"dark:bg-white select-none h-fit bg-black relative flex gap-3 hover:!bg-opacity-10 cursor-pointer items-center dark:text-white !bg-opacity-5 rounded-md p-2 w-full overflow-hidden",children:[!a&&e("div",{className:"w-2 h-2 absolute bottom-3 left-9 ring-2 ring-black ring-opacity-10 rounded-full bg-blue-500"}),e(ee,{className:"flex-none w-10 h-10 !text-sm",name:!parseInt(n.name)&&n.name,avatar:n.avatar}),c("div",{className:"w-full overflow-hidden",children:[c("div",{className:"flex w-full gap-1 justify-between",children:[e("h1",{className:"text-ellipsis overflow-hidden",children:n.name}),e("p",{className:"text-xs opacity-60 font-normal right-2 capitalize",children:pe(new Date(r*1e3),Se(new Date,new Date(r*1e3))<1?"HH:mm":"dd/LL/yyyy")})]}),e("p",{className:"dark:text-slate-400 text-slate-500 text-sm font-normal text-ellipsis overflow-hidden whitespace-nowrap",children:i})]})]}),Ra=({setPage:a})=>{const t=Y(),{locales:n}=N();return c("form",{onSubmit:i=>{i.preventDefault(),a("chat",{number:i.target.number.value})},className:"grid gap-2",children:[c("div",{className:"flex gap-1",children:[e("input",{name:"number",className:"input",placeholder:n==null?void 0:n.phoneNumber,required:!0}),e(A,{title:n==null?void 0:n.contactsTitle,children:e("button",{type:"button",onClick:()=>t("/contacts"),className:"btn !w-fit !rounded-sm",children:e(vn,{})})})]}),e("button",{type:"submit",className:"btn",children:n==null?void 0:n.startMessage})]})},Oa=({setPage:a,args:t})=>{var s,l;const[n,r]=d.exports.useState(((s=t==null?void 0:t.note)==null?void 0:s.content)?(l=t==null?void 0:t.note)==null?void 0:l.content:""),{locales:i}=N();return d.exports.useEffect(()=>{var u,p;if(n.length>0)if(t.new){const m=U();t.new=!1,t.note={id:m,content:n},f("createNote",{id:m,content:n})}else f("updateNote",{id:(u=t==null?void 0:t.note)==null?void 0:u.id,content:n});else f("deleteNote",{id:(p=t==null?void 0:t.note)==null?void 0:p.id})},[n,t]),c(S,{className:"px-5 py-10 flex flex-col",children:[c(O,{className:"flex gap-2",children:[e("button",{onClick:()=>a("main"),className:"back-btn",children:e(ne,{})}),e("p",{children:i==null?void 0:i.note})]}),e("textarea",{defaultValue:n,className:"input h-full resize-none",placeholder:i==null?void 0:i.enterNote,onChange:u=>r(u.target.value)})]})},Ba=()=>{const[a,t]=d.exports.useState({page:"main"});return e(S,{children:e(de,{page:a,pages:[{name:"main",Element:Ha},{name:"note",Element:Oa}],setPage:t})})},Ha=({setPage:a})=>{const[t,n]=d.exports.useState([]),{locales:r}=N();d.exports.useEffect(()=>{f("getNotes").then(l=>{n(l)})},[]);const i=l=>{a("note",{note:l})},s=()=>{a("note",{new:!0})};return c(S,{className:"px-5 pt-10 pb-10 flex  flex-col",children:[c(O,{className:"flex justify-between",children:[e("h1",{children:r==null?void 0:r.notesTitle}),e("button",{onClick:s,className:"back-btn",children:e(Ee,{})})]}),e("div",{className:"h-full relative overflow-auto",children:e("div",{className:"grid content-start w-full h-full gap-1",children:t.length>0?t.map(l=>e(za,{id:l.id,content:l.content,openNote:i},l.id)):e("div",{className:"text-center mt-2",children:r==null?void 0:r.noNotesFound})})})]})},za=({id:a,content:t,openNote:n})=>e("div",{className:"dark:bg-white h-fit overflow-hidden !bg-opacity-5 relative w-full bg-black p-2 rounded-md hover:!bg-opacity-10 cursor-pointer",onClick:()=>n({id:a,content:t}),children:e("p",{className:"w-full text-ellipsis overflow-hidden whitespace-nowrap",children:t})}),qa=()=>{const a=[],[t,n]=d.exports.useState(""),{locales:r}=N(),i=p=>{t.length<11&&n(m=>m+=p)},s=()=>{n(p=>p.substring(0,p.length-1))},l=()=>{f("call",{number:t})};for(var u=1;u<=9;u++)a.push(e(Be,{number:u,onClick:p=>i(p)},u));return a.push(e(Be,{number:e(Nn,{}),onClick:s,color:"!bg-red-500 !bg-opacity-100 hover:!bg-opacity-75"},"del")),a.push(e(Be,{onClick:()=>i(0),number:0},0)),a.push(e(Be,{onClick:l,number:e(Ce,{}),color:"!bg-green-600 !bg-opacity-100 hover:!bg-opacity-75"},"call")),e(S,{className:"px-5 pt-10 absolute",children:c("div",{className:"h-full flex flex-col items-center pt-[4rem] gap-[4rem]",children:[e("div",{className:"text-3xl h-[1rem] flex items-center select-none",children:t||e("p",{className:"opacity-30 text-2xl",children:r==null?void 0:r.enterNumber})}),e("div",{className:"flex flex-wrap justify-center gap-5",children:a})]})})},Be=({number:a,color:t,onClick:n})=>e("div",{onClick:()=>n(a),className:`rounded-full select-none cursor-pointer hover:!bg-opacity-10 bg-black w-16 h-16 flex items-center justify-center dark:bg-white !bg-opacity-5 ${t}`,children:a}),Va=()=>{const[a,t]=d.exports.useState([]),[n,r]=d.exports.useState(!1),[i,s]=d.exports.useState(null),{locales:l}=N();d.exports.useEffect(()=>{f("getCallHistory").then(m=>{t(m)})},[]);const u=m=>{s(m),r(!0)},p=()=>{f("deleteCallLog",{id:i}).then(()=>{f("getCallHistory").then(m=>{t(m),s(null),r(!1)})})};return c(S,{className:"px-5 pt-10 pb-[10rem] absolute",children:[e(O,{children:l==null?void 0:l.callHistory}),e(L,{}),e("div",{className:"grid gap-1 h-full content-start overflow-auto",children:a.length>0?a.map((m,h)=>e(Ua,z({deleteCall:()=>u(m.id)},m),U())):e("div",{className:"text-center mt-2",children:l==null?void 0:l.noCallsFound})}),c($,{isOpen:n,close:()=>r(!1),children:[e("h1",{className:"text-lg mb-1",children:l==null?void 0:l.deleteCall}),c("div",{className:"flex gap-1 mt-3",children:[e("button",{className:"btn",onClick:()=>r(!1),children:l==null?void 0:l.no}),e("button",{onClick:p,className:"btn-2 bg-red-500",children:l==null?void 0:l.yes})]})]})]})},Ua=({contact:a,date:t,missed:n,hidden:r,deleteCall:i})=>{const s=()=>{f("call",{number:a.number})};return c("div",{onClick:u=>!r&&s(),onContextMenu:()=>i(),className:"flex justify-between items-center w-full h-fit !bg-opacity-5 bg-black dark:bg-white p-2 rounded-md hover:!bg-opacity-10 cursor-pointer",children:[c("div",{className:"flex items-center gap-2",children:[n?e(yn,{className:"text-red-500"}):e(Ce,{}),e("p",{children:a.name})]}),e("p",{className:"dark:text-slate-400 text-slate-500 text-sm",children:pe(new Date(t*1e3),Se(new Date,new Date(t*1e3))<1?"HH:mm":"dd/LL/yyyy")})]})},Wa=()=>{const[a,t]=d.exports.useState({page:"main"}),{flightMode:n}=N(),r=[{name:"main",Element:qa},{name:"history",Element:Va}];return n?e(ue,{}):c(S,{children:[e(de,{page:a,pages:r,setPage:t}),e(Ga,{page:a.page,setPage:t})]})},Ga=({setPage:a,page:t})=>{const[n,r]=d.exports.useState(0),{locales:i}=N();return d.exports.useEffect(()=>{f("getMissedCalls").then(s=>{r(s)})},[t]),c("div",{className:"absolute flex !bg-opacity-5 bg-black dark:bg-white h-[6rem] pt-3 select-none border-black dark:border-white !border-opacity-10 border justify-between bottom-0 left-0 w-full",children:[c("div",{onClick:()=>a({page:"main"}),className:`flex flex-col gap-1 items-center w-full cursor-pointer hover:text-blue-500 !bg-opacity-5 ${t==="main"&&"text-blue-500"}`,children:[e(kn,{}),e("p",{children:i==null?void 0:i.dial})]}),e("div",{onClick:()=>a({page:"history"}),className:`flex flex-col gap-1 items-center w-full cursor-pointer hover:text-blue-500 !bg-opacity-5 ${t==="history"&&"text-blue-500"}`,children:c("div",{className:"w-fit h-fit flex justify-center flex-col items-center relative",children:[n>0&&e("div",{className:"flex px-2 select-none items-center justify-center text-white text-xs rounded-full bg-red-500 absolute -right-1 -top-1",children:n}),e(Cn,{}),e("p",{children:i==null?void 0:i.recentCalls})]})})]})},Ka=()=>{const{flightMode:a,locales:t}=N(),n=d.exports.useRef(null),r=()=>{const i=n.current.value;i.length>0&&f("pingPlayer",{id:i})};return a?e(ue,{}):e(S,{children:e("div",{className:"bg-cover bg-center w-full h-full",style:{backgroundImage:"url(https://www.bragitoff.com/wp-content/uploads/2015/11/GTAV_SATELLITE_2048x2048.png)"},children:c("div",{className:"px-5 w-full h-full relative text-center items-center gap-5 justify-center flex flex-col dark:bg-black bg-white !bg-opacity-50 backdrop-blur-sm",children:[c("h1",{className:"text-4xl mb-5 dark:text-white text-black font-bold",children:[t==null?void 0:t.pingerTitle,e("span",{className:"text-red-400 ml-1",children:"!"})]}),e("input",{ref:n,placeholder:t==null?void 0:t.playerId,className:"text-2xl rounded-full p-2 w-full text-center px-5 !bg-opacity-10 hover:!bg-opacity-20 dark:bg-white bg-black placeholder:text-zinc-700 placeholder:dark:text-zinc-400 outline-none focus:ring ring-blue-500 text-white"}),e(G.button,{onClick:r,whileTap:{scale:.8},className:"rounded-full max-w-[200px] w-full bg-blue-500 text-white p-3 text-xl",children:t==null?void 0:t.pingBtn})]})})})},Za=({args:a,setPage:t})=>{var we,ve;const n=oe(),r=Y(),{setBigView:i,locales:s}=N(),[l,u]=d.exports.useState(null),[p,m]=d.exports.useState(null),[h,o]=d.exports.useState(!1),[g,b]=d.exports.useState(!1),[x,k]=d.exports.useState(!1),[w,T]=d.exports.useState(!1),[M,y]=d.exports.useState(!1),[C,R]=d.exports.useState(((we=n==null?void 0:n.state)==null?void 0:we.images)?(ve=n==null?void 0:n.state)==null?void 0:ve.images:[]),[v,F]=d.exports.useState(!1),q=d.exports.useRef(null),H=d.exports.useRef(null),{account:j}=Le();d.exports.useEffect(()=>{var X,se,I;((X=n==null?void 0:n.state)==null?void 0:X.images)&&(q.current.value=(I=(se=n==null?void 0:n.state)==null?void 0:se.data)==null?void 0:I.msg),f("tor:getChat",{id:a.id}).then(B=>{u(B.chat),m(B.chat.feed),T(B==null?void 0:B.muted),y(B.chat.private),setTimeout(()=>{H.current&&(H.current.scrollTop=H.current.scrollHeight)})});const P=B=>{if(B.data.type===`tor:refreshChat:${a.id}`){if(!B.data.chat){t("main");return}f("tor:markRead",{id:a.id}),m(B.data.chat.feed),u(B.data.chat),setTimeout(()=>{H.current&&(H.current.scrollTop=H.current.scrollHeight)})}};return window.addEventListener("message",P),()=>{n.state=null,window.removeEventListener("message",P)}},[a,H]);const W=P=>{P.key=="Enter"&&(P.preventDefault(),_())},_=()=>{var P,X;(((P=q.current)==null?void 0:P.value.length)>0||C.length>0)&&(f("tor:sendMessage",{id:U(),chat:a.id,content:(X=q.current)==null?void 0:X.value,images:C}),q.current.value="",R([]))},E=()=>{f("tor:leaveChat",{id:a.id}).then(()=>{t("main")})},Z=()=>{f("tor:deleteChat",{id:a.id})},Q=()=>{y(l==null?void 0:l.private),b(!0)},D=()=>{T(!w),f("tor:muteChat",{id:a.id,toggle:w})},K=P=>{P.preventDefault(),f("tor:editChat",{id:a.id,name:P.target.chatName.value,icon:P.target.icon.value,wallpaper:P.target.wallpaper.value,private:M}).then(()=>{b(!1)})},ae=()=>{const P=document.createElement("textarea");P.value=l==null?void 0:l.id,document.body.appendChild(P),P.select(),document.execCommand("copy"),document.body.removeChild(P)},me=()=>{r("/camera",{state:{images:C,app:"tor",data:{chat:a.id,msg:q.current.value}}})},re=P=>{R(X=>[...X,P]),F(!1)},ge=(P,X)=>{P.stopPropagation(),R(se=>se.filter((I,B)=>B!==X))};return c(S,{className:"flex flex-col",children:[c(O,{className:"flex !mb-0 gap-3 justify-between items-center px-5 pt-10 pb-2 dark:bg-white bg-black !bg-opacity-5 dark:border-white border-black border !border-opacity-5",children:[c("div",{className:"flex gap-3 items-center overflow-hidden",children:[e("button",{onClick:()=>t("main"),className:"back-btn !flex-none",children:e(ne,{})}),e(A,{title:(l==null?void 0:l.name)?l==null?void 0:l.name:"",children:e("div",{className:"overflow-hidden text-ellipsis whitespace-nowrap",children:l==null?void 0:l.name})})]}),c("div",{className:"flex items-center gap-1",children:[e(A,{title:w?s==null?void 0:s.unmute:s==null?void 0:s.mute,children:e("button",{className:`back-btn2 !flex-none ${w?"!bg-red-500 !bg-opacity-100":"!bg-white !bg-opacity-5"}`,onClick:D,children:w?e(lt,{}):e(Fe,{})})}),e("button",{className:"back-btn !flex-none",onClick:()=>o(!0),children:e(Sn,{})})]})]}),e("div",{className:"overflow-hidden h-full",style:{backgroundImage:`url(${l==null?void 0:l.wallpaper})`,backgroundPosition:"center",backgroundSize:"cover"},children:e("div",{ref:H,className:"overflow-auto grid gap-1 content-start h-full pb-2 pt-1 dark:bg-zinc-800 bg-white !bg-opacity-40",children:p==null?void 0:p.map(P=>e(_a,z({},P),P.id))})}),e("div",{className:"w-full h-fit pb-12 pt-2 px-5 flex dark:bg-white bg-black !bg-opacity-5 dark:border-white border-black border !border-opacity-5",children:c("div",{className:"h-full flex-grow w-full",children:[C.length>0&&e("div",{className:"grid grid-cols-3 gap-1 mb-2",children:C.map((P,X)=>e("div",{onClick:()=>i(P),className:"w-full h-[50px] relative rounded-md bg-cover bg-center",style:{backgroundImage:`url(${P})`},children:e("button",{onClick:se=>ge(se,X),className:"w-[20px] h-[20px] flex items-center justify-center bg-black text-white bg-opacity-75 rounded-full absolute right-1 top-1 text-xs",children:e(xe,{})})},U()))}),c("div",{className:"flex gap-1",children:[e(A,{title:s==null?void 0:s.camera,placement:"top",children:e("button",{onClick:()=>F(!0),className:"btn h-fit !w-fit",children:e(Me,{})})}),e(it,{className:"input resize-none !transition-shadow ",maxRows:5,maxLength:244,placeholder:`${s==null?void 0:s.message} ${l==null?void 0:l.name}`,ref:q,onKeyDown:W})]})]})}),e($,{isOpen:v,close:()=>F(!1),children:e(Oe,{takePic:me,selectPic:re})}),e(Ja,{open:h,close:()=>o(!1),children:c("div",{className:"px-3 flex flex-col h-full pb-12 pt-10",children:[c("div",{className:"flex justify-between gap-1",children:[c("div",{className:"flex items-center gap-1",children:[(l==null?void 0:l.owner)===(j==null?void 0:j.id)&&c(fe,{children:[e(A,{title:s==null?void 0:s.delete,children:e("button",{onClick:()=>k(!0),className:"back-btn text-red-500",children:e(ct,{})})}),e(A,{title:s==null?void 0:s.edit,children:e("button",{onClick:Q,className:"back-btn",children:e(Mn,{})})})]}),(l==null?void 0:l.owner)!==(j==null?void 0:j.id)&&e(A,{title:s==null?void 0:s.leaveChat,children:e("button",{onClick:E,className:"back-btn",children:e(ot,{})})}),e(A,{title:s==null?void 0:s.copyInvite,children:e("button",{onClick:ae,className:"back-btn",children:e(En,{})})})]}),e("button",{className:"back-btn",onClick:()=>o(!1),children:e(xe,{})})]}),e(L,{}),c("p",{className:"text-sm mb-1",children:[s==null?void 0:s.members," - ",l==null?void 0:l.users.length]}),e("div",{className:"grid gap-1 content-start overflow-auto h-full",children:l==null?void 0:l.users.map(P=>c("div",{className:"flex select-none items-center gap-2 hover:dark:bg-white hover:bg-black !bg-opacity-5 p-1 rounded-md",children:[e(ee,{className:"!w-9 !h-9 !text-sm",name:P.name,avatar:P.avatar}),c("div",{className:"flex items-center gap-2",children:[P.name,P.id==(l==null?void 0:l.owner)&&e("div",{children:e(A,{title:s==null?void 0:s.owner,children:e("div",{children:e(Ln,{className:"text-yellow-500"})})})})]})]},P.id))})]})}),e($,{isOpen:g,close:()=>b(!1),children:c("form",{className:"grid gap-1",onSubmit:K,children:[e("label",{children:s==null?void 0:s.name}),e("input",{defaultValue:l==null?void 0:l.name,name:"chatName",className:"input",maxLength:24,minLength:2,required:!0}),e("label",{children:s==null?void 0:s.icon}),e("input",{defaultValue:l==null?void 0:l.icon,name:"icon",className:"input"}),e("label",{children:s==null?void 0:s.wallpaper}),e("input",{defaultValue:l==null?void 0:l.wallpaper,name:"wallpaper",className:"input"}),e(L,{}),e(he,{label:s==null?void 0:s.private,icon:e(dt,{}),color:"bg-purple-500",checked:M,onChange:P=>y(P.target.checked)}),e(L,{}),e("button",{type:"submit",className:"btn-2 bg-purple-500 mb-1",children:s==null?void 0:s.saveChanges}),e("button",{onClick:()=>b(!1),type:"button",className:"dark:text-gray-400 text-black font-medium",children:s==null?void 0:s.close})]})}),e($,{isOpen:x,close:()=>k(!1),children:c("div",{className:"grid gap-1",children:[e("button",{onClick:Z,className:"btn-2 bg-red-500 mb-1",children:s==null?void 0:s.deleteChat}),e("button",{onClick:()=>k(!1),type:"button",className:"dark:text-gray-400 text-black font-medium",children:s==null?void 0:s.close})]})})]})},_a=({content:a,from:t,date:n,images:r})=>{const{setBigView:i}=N();return c("div",{className:"flex w-full h-fit px-5 py-1 gap-3 hover:dark:bg-white hover:bg-black !bg-opacity-5",children:[e(ee,{avatar:t.avatar,name:t.name,className:"!w-10 !h-10 mt-1 flex-none !text-sm"}),c("div",{className:"grid w-full items-center",children:[c("div",{className:"flex gap-2 w-full items-center justify-between",children:[e("p",{children:t.name}),e("p",{className:"text-xs dark:text-zinc-300 text-zinc-700",children:pe(new Date(n*1e3),Se(new Date,new Date(n*1e3))<1?"HH:mm":"dd/LL/yyyy")})]}),c("div",{className:"font-normal w-full break-all",children:[e("p",{children:a}),r&&r.length>0&&e("div",{className:`grid min-w-[200px] ${r.length<2?"grid-cols-1":"grid-cols-2"}  gap-1 mt-2`,children:r.map(s=>e("div",{onClick:()=>i(s),className:`w-full ${r.length<2?"h-[120px]":"h-[50px]"} relative rounded-md bg-cover bg-center`,style:{backgroundImage:`url(${s})`}},U()))})]})]})]})},Ja=({open:a,close:t,children:n})=>{const{animations:r}=N();return e(ce,{children:a&&e(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,transition:{type:"keyframes",duration:r?.15:0},className:"w-full h-full absolute bg-black bg-opacity-50",children:e(G.div,{initial:{x:200},animate:{x:0},exit:{x:200},onClick:i=>i.stopPropagation(),transition:{type:"keyframes",duration:r?.2:0},className:"absolute h-full w-[65%] dark:bg-zinc-800 bg-zinc-300 border-white border !border-opacity-5 right-0",children:n})})})},Xa=({setPage:a})=>{const{account:t}=Le(),[n,r]=d.exports.useState(!1),[i,s]=d.exports.useState(!1),[l,u]=d.exports.useState(!1),[p,m]=d.exports.useState(!1),[h,o]=d.exports.useState([]),[g,b]=d.exports.useState(null),[x,k]=d.exports.useState([]),{locales:w}=N();d.exports.useEffect(()=>{f("tor:getChats").then(F=>{k(F)});const v=F=>{F.data.type==="tor:refreshChats"&&k(F.data.chats)};return window.addEventListener("message",v),()=>{window.removeEventListener("message",v)}},[]);const T=v=>{v.preventDefault(),f("tor:createChat",{name:v.target.name.value,private:n}).then(()=>{s(!1),m(!1)})},M=()=>{f("tor:getPublicChats").then(v=>{o(v),u(!0)})},y=v=>{u(!1),m(!1),s(!1),a("chat",{id:v})},C=v=>{f("tor:joinChat",{id:v}).then(F=>{if(F){b(F);return}s(!1),u(!1)})},R=v=>{v.preventDefault(),C(v.target.room.value)};return c(S,{className:"px-5 py-10 flex flex-col",children:[c(O,{className:"flex !mb-1 items-center justify-between",children:[e("p",{children:w==null?void 0:w.torTitle}),e("div",{className:"cursor-pointer",onClick:()=>a("profile"),children:e(ee,{avatar:t==null?void 0:t.avatar,name:t==null?void 0:t.username,className:"!w-10 !h-10 !text-sm"})})]}),e(L,{}),e("div",{className:"grid gap-1 overflow-auto h-full content-start",children:x.length>0?x.map(v=>e(Ya,z({open:y},v),v.id)):e("p",{className:"text-center mt-2",children:w==null?void 0:w.noChatsFound})}),e(A,{title:"Create Chat",placement:"top",children:e("button",{onClick:()=>s(!0),className:"absolute text-lg bottom-10 right-4 rounded-full w-14 h-14 flex items-center justify-center focus:ring transition-all bg-purple-500",children:e(Ee,{})})}),c($,{isOpen:i,close:()=>s(!1),children:[e("p",{className:"text-xl text-center mb-2",children:w==null?void 0:w.torTitle}),e("p",{className:"text-center opacity-80 mb-3",children:w==null?void 0:w.joinOrCreate}),c("div",{className:"grid grid-cols-2 gap-2",children:[e("button",{className:"btn-2 bg-purple-500",onClick:M,children:w==null?void 0:w.join}),e("button",{className:"btn",onClick:()=>m(!0),children:w==null?void 0:w.create})]})]}),e($,{isOpen:l,close:()=>u(!1),children:c("form",{className:"grid gap-1",onSubmit:R,children:[e("p",{className:"text-sm mb-1",children:w==null?void 0:w.publicChats}),e("div",{className:"grid gap-1 max-h-[150px] overflow-auto",children:h.length>0?h.map(v=>c("div",{onClick:()=>C(v.id),className:"flex items-center gap-2 w-full p-2 select-none rounded-md dark:bg-white bg-black hover:!bg-opacity-10 !bg-opacity-5",children:[e(ee,{name:v.name,avatar:v.icon,className:"!w-7 !h-7 !text-xs"}),e("p",{children:v.name})]},v.id+":public")):e("p",{className:"text-center text-sm",children:w==null?void 0:w.noChatsFound})}),e(L,{}),e("label",{children:w==null?void 0:w.chatId}),e("input",{className:"input",name:"room",required:!0}),g&&e("p",{className:"text-center text-red-500 py-2",children:g}),e("button",{className:"btn-2 bg-purple-500 my-1",type:"submit",children:w==null?void 0:w.join}),e("button",{onClick:()=>u(!1),type:"button",className:"dark:text-gray-400 text-black font-medium",children:w==null?void 0:w.goBack})]})}),e($,{isOpen:p,close:()=>m(!1),children:c("form",{className:"grid gap-1",onSubmit:T,children:[e("label",{children:w==null?void 0:w.name}),e("input",{className:"input",name:"name",minLength:2,maxLength:24,required:!0}),e(L,{}),e(he,{label:w==null?void 0:w.private,icon:e(dt,{}),color:"bg-purple-500",checked:n,onChange:v=>r(v.target.checked)}),e(L,{}),e("button",{type:"submit",className:"btn-2 bg-purple-500 mb-1",children:w==null?void 0:w.create}),e("button",{onClick:()=>m(!1),type:"button",className:"dark:text-gray-400 text-black font-medium",children:w==null?void 0:w.goBack})]})})]})},Ya=({id:a,name:t,icon:n,open:r,users:i})=>{const{account:s}=Le();let l=0,u=!1;for(let p=0;p<i.length;p++){const m=i[p];m.id==(s==null?void 0:s.id)&&(l=m.notifications,u=m.muted)}return c("div",{onClick:()=>r(a),className:"flex items-center justify-between gap-3 w-full dark:bg-white bg-black !bg-opacity-5 p-2 rounded-md hover:!bg-opacity-10 select-none",children:[c("div",{className:"flex items-center gap-3",children:[e(ee,{className:"!w-10 !h-10 !flex-none !text-sm",name:t,avatar:n}),e("p",{children:t})]}),u?e("p",{className:"bg-red-500 rounded-full px-2 py-1 text-sm",children:e(lt,{})}):l>0&&e("p",{className:"bg-red-500 rounded-full px-2 text-sm",children:l})]})},Qa=({setPage:a})=>{const{locales:t}=N();return e(S,{className:"px-5 pb-[5rem] absolute flex flex-col justify-center",children:c("div",{className:"z-50",children:[c(O,{className:"flex flex-col items-center gap-2 text-center",children:[e("img",{src:"https://cdn0.iconfinder.com/data/icons/flat-round-system/512/tor-512.png",width:"70px"}),e("p",{children:t==null?void 0:t.torTitle})]}),e("p",{className:"text-center mb-5 px-5 dark:text-slate-400 text-slate-600",children:t==null?void 0:t.torSubheader}),c("div",{className:"grid px-3 gap-1",children:[e("button",{className:"btn-2 bg-purple-500 !text-white",onClick:()=>a("login"),children:t==null?void 0:t.login}),e("button",{className:"btn",onClick:()=>a("register"),children:t==null?void 0:t.register})]})]})})},es=({setPage:a})=>{const{login:t}=Le(),{locales:n}=N(),[r,i]=d.exports.useState(null),s=async l=>{l.preventDefault(),await t(l.target.username.value,l.target.password.value)||i(!0)};return c(S,{className:"px-8 pt-10 pb-12 flex items-center flex-col justify-between",children:[c("div",{className:"w-full h-full flex items-center flex-col justify-center",children:[c("div",{className:"flex justify-center mb-3 items-center flex-col gap-2",children:[e("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Tor-logo-2011-flat.svg/1200px-Tor-logo-2011-flat.svg.png",width:"100px"}),e("h1",{className:"text-2xl px-6 font-normal text-center mt-3",children:n.login})]}),e("form",{id:"createAccount",onSubmit:s,className:"mb-2 w-full",children:c("div",{className:"grid w-full gap-1",children:[e("label",{children:n==null?void 0:n.username}),e("input",{className:"input !ring-purple-400",name:"username",required:!0}),e("label",{children:n==null?void 0:n.password}),e("input",{className:"input !ring-purple-400",name:"password",type:"password",required:!0})]})}),r&&e("div",{className:"p-3 text-red-500",children:n==null?void 0:n.loginIncorrect})]}),c("div",{className:"grid w-full gap-3",children:[e("button",{type:"submit",form:"createAccount",className:"btn-2 bg-purple-500 text-lg !rounded-xl flex items-center justify-center brightness-100 disabled:brightness-75 disabled:cursor-default",children:n==null?void 0:n.login}),e("button",{onClick:()=>a("landing"),className:"dark:text-gray-400 text-black font-medium",children:n==null?void 0:n.goBack})]})]})},ts=({setPage:a})=>{const[t,n]=d.exports.useState(!1),[r,i]=d.exports.useState(!1),[s,l]=d.exports.useState(null),[u,p]=d.exports.useState(!1),[m,h]=d.exports.useState(!1),{locales:o}=N(),{account:g,setAccount:b,logout:x}=Le(),k=y=>{y.preventDefault();var C=y.target.avatar.value;C&&(f("tor:changeAvatar",{avatar:C}),b(J(z({},g),{avatar:C})),n(!1))},w=async y=>{y.preventDefault();var C=y.target.username.value;if(/\s/g.test(y.target.username.value)){l(o==null?void 0:o.noSpacesInName);return}if(C){const R=await f("tor:changeUsername",{username:C});if(R){l(R);return}b(J(z({},g),{username:C})),i(!1)}},T=async y=>{y.preventDefault(),l(null);const C=y.target.oldPassword.value,R=y.target.newPassword.value,v=y.target.newPassword2.value;if(R!==v){l(o==null?void 0:o.passwordNoMatch);return}f("tor:changePassword",{oldPass:C,newPass:R}).then(F=>{if(F){l(F);return}p(!1)})},M=()=>{f("tor:deleteAccount"),a("landing"),setTimeout(()=>{b(null)},500)};return c(S,{className:"pt-10 px-5 absolute",children:[e(O,{className:"flex gap-2",children:e("button",{onClick:()=>a("main"),className:"back-btn",children:e(ne,{})})}),c("div",{className:"flex flex-col gap-2 items-center w-full",children:[e(A,{title:o==null?void 0:o.changeProfileImage,enterDelay:300,leaveDelay:0,children:e("div",{onClick:()=>n(!0),className:"cursor-pointer hover:brightness-75",children:e(ee,{className:"ring-purple-500 ring-opacity-80 mb-2 !ring-[3px]",name:g==null?void 0:g.username,avatar:g==null?void 0:g.avatar})})}),e("p",{className:"text-2xl font-normal",children:g==null?void 0:g.username})]}),e(L,{className:"mt-4"}),c("div",{className:"grid gap-1",children:[e(ie,{onClick:()=>i(!0),icon:e(Pn,{}),color:"bg-green-600",children:o==null?void 0:o.changeUsername}),e(ie,{onClick:()=>p(!0),icon:e(et,{}),color:"bg-blue-500",children:o==null?void 0:o.changePassword}),e(L,{}),e(ie,{onClick:x,icon:e(ot,{}),color:"bg-blue-500",children:o==null?void 0:o.logout}),e(ie,{onClick:()=>h(!0),icon:e(ct,{}),color:"bg-red-500",children:o==null?void 0:o.deleteAccount})]}),e($,{isOpen:t,close:()=>n(!1),children:c("form",{onSubmit:k,children:[e("label",{children:o==null?void 0:o.imageUrl}),e("input",{className:"input",placeholder:".(png|jpeg|gif)",name:"avatar",type:"url",required:!0}),e("div",{className:"grid gap-1 mt-3",children:e("button",{className:"btn",children:o==null?void 0:o.apply})})]})}),e($,{isOpen:r,close:()=>i(!1),children:c("form",{onSubmit:w,children:[e("label",{children:o==null?void 0:o.newUsername}),e("input",{className:"input",name:"username",required:!0}),s&&e("div",{className:"p-2 text-red-500 text-center",children:s}),e("div",{className:"grid gap-1 mt-3",children:e("button",{className:"btn",children:o==null?void 0:o.apply})})]})}),c($,{isOpen:m,close:()=>h(!1),children:[e("p",{className:"text-md text-center",children:o==null?void 0:o.deleteAccountConf}),c("div",{className:"flex gap-2 mt-3",children:[e("button",{onClick:()=>h(!1),className:"btn",children:o==null?void 0:o.cancel}),e("button",{className:"btn text-red-500",onClick:M,children:o==null?void 0:o.delete})]})]}),e($,{isOpen:u,close:()=>p(!1),children:c("form",{className:"grid gap-1",onSubmit:T,children:[e("label",{children:o==null?void 0:o.currentPassword}),e("input",{name:"oldPassword",className:"input",type:"password",required:!0}),e(L,{}),e("label",{children:o==null?void 0:o.newPassword}),e("input",{name:"newPassword",className:"input",type:"password",required:!0}),e("label",{children:o==null?void 0:o.repeatPassword}),e("input",{name:"newPassword2",className:"input",type:"password",required:!0}),e("p",{className:"text-red-500 mt-2 text-center",children:s}),e("button",{type:"submit",className:"btn-2 bg-purple-500 mt-3",children:o==null?void 0:o.change})]})})]})},ns=({setPage:a})=>{const{locales:t}=N(),{setAccount:n}=Le(),[r,i]=d.exports.useState(null),s=l=>{l.preventDefault();const u=l.target.password.value,p=l.target.password2.value;if(u!==p){i(t==null?void 0:t.passwordNoMatch);return}if(/\s/g.test(l.target.username.value)){i(t==null?void 0:t.noSpacesInName);return}f("tor:createAccount",{username:l.target.username.value,password:l.target.password.value}).then(m=>{if(typeof m=="string"){i(m);return}n(m),a("main")})};return c(S,{className:"px-8 pt-10 pb-12 flex items-center flex-col justify-between",children:[c("div",{className:"w-full h-full flex items-center flex-col justify-center",children:[c("div",{className:"flex justify-center mb-3 items-center flex-col gap-2",children:[e("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Tor-logo-2011-flat.svg/1200px-Tor-logo-2011-flat.svg.png",width:"100px"}),e("h1",{className:"text-2xl px-6 font-normal text-center mt-3",children:t==null?void 0:t.register})]}),e("form",{id:"createAccount",onSubmit:s,className:"mb-2 w-full",children:c("div",{className:"grid w-full gap-1",children:[e("label",{children:t==null?void 0:t.username}),e("input",{className:"input !ring-purple-400",name:"username",maxLength:24,minLength:3,required:!0}),e(L,{}),e("label",{children:t==null?void 0:t.password}),e("input",{className:"input !ring-purple-400",name:"password",type:"password",maxLength:24,minLength:4,required:!0}),e("label",{children:t==null?void 0:t.repeatPassword}),e("input",{className:"input !ring-purple-400",name:"password2",type:"password",maxLength:24,minLength:4,required:!0})]})}),e("div",{className:"p-3 text-red-500",children:r})]}),c("div",{className:"grid w-full gap-3",children:[e("button",{type:"submit",form:"createAccount",className:"btn-2 bg-purple-500 text-lg !rounded-xl flex items-center justify-center brightness-100 disabled:brightness-75 disabled:cursor-default",children:t==null?void 0:t.createAccount}),e("button",{onClick:()=>a("landing"),className:"dark:text-gray-400 text-black font-medium",children:t==null?void 0:t.goBack})]})]})},It=d.exports.createContext(null),Le=()=>d.exports.useContext(It),as=()=>{const a=oe(),[t,n]=d.exports.useState(null),[r,i]=d.exports.useState({page:"main"}),{flightMode:s}=N();if(s)return e(ue,{});const l=[{name:"main",Element:Xa},{name:"profile",Element:ts},{name:"landing",Element:Qa},{name:"login",Element:es},{name:"register",Element:ns},{name:"chat",Element:Za}];d.exports.useEffect(()=>{f("tor:getAccount").then(m=>{m?(n(m),a.state?i({page:"chat",args:{id:a.state.data.chat}}):i({page:"main"})):i({page:"landing"})})},[]);const u=async(m,h)=>{const{status:o}=await f("tor:login",{username:m,password:h});return o?(n(o),i({page:"main"}),!0):!1},p=async()=>{f("tor:logout"),i({page:"landing"}),setTimeout(()=>{n(null)},500)};return e(S,{children:e(It.Provider,{value:{account:t,setAccount:n,login:u,logout:p},children:e(de,{pages:l,page:r,setPage:i})})})},ss={phone:e(Wa,{}),messages:e(Ia,{}),contacts:e(ka,{}),mail:e(ja,{}),camera:e(va,{}),gallery:e(Ea,{}),banking:e(ba,{}),ads:e(ha,{}),twitter:e(oa,{}),notes:e(Ba,{}),dispatch:e(Sa,{}),tor:e(as,{}),ping:e(Ka,{}),calculator:e(wa,{}),appstore:e(ga,{}),settings:e(aa,{})},rs=()=>{const{bigView:a,setBigView:t}=N();return e(ce,{children:a&&e(G.div,{onClick:()=>t(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"keyframes",duration:ut?.15:0},className:"fixed flex flex-col items-center justify-center w-full h-full bg-black left-0 top-0 z-[1000] bg-opacity-50",children:c(G.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},exit:{y:30,opacity:0},transition:{type:"keyframes",duration:ut?.15:0},className:"items-center flex flex-col justify-center gap-10",children:[e("button",{onClick:()=>t(!1),className:"rounded-full shrink-0 transition-all w-16 h-16 text-xl !text-white cursor-pointer focus:ring flex items-center justify-center bg-zinc-700",children:e(xe,{})}),e("img",{className:"block object-scale-down w-full h-1/2",src:a.toString()})]})})})},is=({notify:a,incoming:t,callid:n})=>{const[r,i]=d.exports.useState(!1),[s,l]=d.exports.useState(!1),[u,p]=d.exports.useState(null),[m,h]=d.exports.useState(null),{removeNotification:o}=Re(),{ringtone:g,volume:b,locales:x}=N(),[k,w]=d.exports.useState(t?x==null?void 0:x.incomingCall:x==null?void 0:x.calling),T=async y=>{var C=0;if(r)return;i(!0),w(x==null?void 0:x.connecting),y&&f("answerCall",{callid:n}),w(new Date(C*1e3).toISOString().substring(14,19));let R=setInterval(()=>{s||(C+=1,w(new Date(C*1e3).toISOString().substring(14,19)))},1e3);p(R)},M=async y=>{s||(clearInterval(u),p(null),setTimeout(()=>{i(!1),l(!0),y&&f("endCall",{callid:n}),w(x==null?void 0:x.disconnected),setTimeout(()=>{o(a.id)},500)},50))};return d.exports.useEffect(()=>{if(!r&&!s){var y=setTimeout(()=>{M(),f("endCall",{missed:t,callid:n})},3e4);h(y)}else clearTimeout(m),h(null);return()=>{clearInterval(m),h(null)}},[r,s,t,n]),d.exports.useEffect(()=>{const y=Te(t?g?g.file:"./ringtones/rick.mp3":"calling.mp3"),C=y.play();return y.loop=!0,y.volume=b/100,(r||s)&&C.then(()=>{y.pause()}),()=>{C.then(()=>{y.pause()})}},[g,r,s,t,b]),d.exports.useEffect(()=>{const y=C=>{C.data.type===`answerCall:${n}`?T(!1):C.data.type===`endCall:${n}`?M(!1):C.data.type==="answerCallBtn"?t&&T(!0):C.data.type==="declineCallBtn"&&M(!0)};return window.addEventListener("message",y),()=>{window.removeEventListener("message",y)}},[u,r,s,t,n]),c("div",{className:"flex items-center justify-between",children:[e("p",{children:k}),c("div",{className:"flex gap-1",children:[!r&&!s&&t&&e("button",{onClick:()=>T(!0),className:"w-6 h-6 text-xs transition-all focus:ring outline-none bg-green-500 rounded-full flex items-center justify-center cursor-pointer",children:e(Ke,{})}),!s&&e("button",{onClick:()=>M(!0),className:"w-6 h-6 text-xs transition-all focus:ring outline-none bg-red-500 rounded-full flex items-center justify-center cursor-pointer",children:e(xe,{})})]})]})};function ls(a){const t=atob(a.split(",")[1]),n=a.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r);for(let l=0;l<t.length;l++)i[l]=t.charCodeAt(l);return new Blob([r],{type:n})}class cs{constructor(){ze(this,"apiKey");ze(this,"takeScreenshot",()=>new Promise(async t=>{const n=new Uint8Array(window.innerWidth*window.innerHeight*4);this.renderer.readRenderTargetPixels(this.rtTexture,0,0,window.innerWidth,window.innerHeight,n);const r=document.createElement("canvas");r.style.display="inline",r.width=window.innerWidth,r.height=window.innerHeight;const i=new Uint8ClampedArray(n.buffer);r.getContext("2d").putImageData(new ImageData(i,window.innerWidth,window.innerHeight),0,0);let l="image/png",u=.92;const p=r.toDataURL(l,u),m=()=>{const h=new FormData;return h.append("image",ls(p),`${U()}.png`),h};fetch(`https://api.imgbb.com/1/upload?key=${this.apiKey}`,{method:"POST",mode:"cors",body:m()}).then(h=>h.json()).then(h=>{t(h.data.url)})}))}initialize(){window.addEventListener("message",m=>{this.request=m.data.request,m.data.type=="setImageProvider"&&(this.apiKey=m.data.apiKey)}),window.addEventListener("resize",m=>{this.resize()});const t=new mt(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1e4,1e4);t.position.z=100;const n=new pt,r=new ht(window.innerWidth,window.innerHeight,{minFilter:gt,magFilter:ft,format:bt,type:xt}),i=new Tn;i.needsUpdate=!0;const s=new jn({uniforms:{tDiffuse:{value:i}},vertexShader:`
			varying vec2 vUv;
			void main() {
				vUv = vec2(uv.x, 1.0-uv.y); // fuck gl uv coords
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}
`,fragmentShader:`
			varying vec2 vUv;
			uniform sampler2D tDiffuse;
			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );
			}
`});this.material=s;const l=new wt(window.innerWidth,window.innerHeight),u=new vt(l,s);u.position.z=-100,n.add(u);const p=new An;p.setPixelRatio(window.devicePixelRatio),p.setSize(window.innerWidth,window.innerHeight),p.autoClear=!1,document.getElementById("app").appendChild(p.domElement),document.getElementById("app").style.display="none",this.renderer=p,this.rtTexture=r,this.sceneRTT=n,this.cameraRTT=t,this.animate=this.animate.bind(this),requestAnimationFrame(this.animate)}resize(){const t=new mt(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1e4,1e4);t.position.z=100,this.cameraRTT=t;const n=new pt,r=new wt(window.innerWidth,window.innerHeight),i=new vt(r,this.material);i.position.z=-100,n.add(i),this.sceneRTT=n,this.rtTexture=new ht(window.innerWidth,window.innerHeight,{minFilter:gt,magFilter:ft,format:bt,type:xt}),this.renderer.setSize(window.innerWidth,window.innerHeight)}animate(){if(requestAnimationFrame(this.animate),this.renderer.clear(),this.renderer.render(this.sceneRTT,this.cameraRTT,this.rtTexture,!0),this.isAnimated){const t=new Uint8Array(window.innerWidth*window.innerHeight*4);this.renderer.readRenderTargetPixels(this.rtTexture,0,0,window.innerWidth,window.innerHeight,t),this.canvas.width=600,this.canvas.height=window.innerHeight;const n=new Uint8ClampedArray(t.buffer),r=this.canvas.getContext("2d"),i=new ImageData(n,window.innerWidth,window.innerHeight);r.putImageData(i,-350,0)}}render(t){this.canvas=t,this.isAnimated=!0,this.canvas.style.display="block"}stop(t=!0){this.isAnimated=!1,this.canvas&&t&&this.canvas.style.display!="none"&&(this.canvas.style.display="none")}}const os=({setPage:a})=>{const{locales:t}=N();return c(S,{className:"px-8 pt-10 pb-5 gap-3 flex flex-col items-center justify-between",children:[c("div",{className:"flex h-full justify-center items-center flex-col gap-2",children:[e(Pe,{className:"text-6xl"}),e("h1",{className:"text-2xl px-6 font-normal text-center",children:t==null?void 0:t.connectCloud}),c("p",{className:"text-gray-400",children:[t==null?void 0:t.receiveBenefits,":"]}),c("div",{className:"grid gap-1 px-2 w-full",children:[c("div",{className:"p-2 flex items-center gap-2 dark:bg-white bg-black !bg-opacity-5 rounded-md",children:[e("div",{className:"p-3 dark:bg-white bg-black !bg-opacity-10 rounded-full",children:e(De,{})}),t==null?void 0:t.messagesTitle]}),c("div",{className:"p-2 flex items-center gap-2 dark:bg-white bg-black !bg-opacity-5 rounded-md",children:[e("div",{className:"p-3 dark:bg-white bg-black !bg-opacity-10 rounded-full",children:e(Fn,{})}),t==null?void 0:t.email]}),c("div",{className:"p-2 flex items-center gap-2 dark:bg-white bg-black !bg-opacity-5 rounded-md",children:[e("div",{className:"p-3 dark:bg-white bg-black !bg-opacity-10 rounded-full",children:e(Dn,{})}),t==null?void 0:t.notesTitle]})]}),e("p",{className:"text-gray-400",children:t==null?void 0:t.andMore})]}),c("div",{className:"grid w-full gap-3",children:[e("button",{onClick:()=>a("create"),className:"btn-2 bg-blue-500 text-lg !rounded-xl flex items-center justify-center brightness-100 disabled:brightness-75 disabled:cursor-default",children:t==null?void 0:t.createAccount}),e("button",{onClick:()=>a("login"),className:"dark:text-gray-400 text-black font-medium",children:t==null?void 0:t.login})]})]})},ds=({setPage:a})=>{const[t,n]=d.exports.useState(null),{locales:r}=N(),i=s=>{s.preventDefault();const l=s.target.password.value,u=s.target.password2.value;if(l!==u){n(r==null?void 0:r.passwordNoMatch);return}if(/\s/g.test(s.target.email.value)){n(r==null?void 0:r.noSpacesInEmail);return}f("setup:createAccount",{name:s.target.name.value,email:s.target.email.value+"@"+(r==null?void 0:r.emailProvider),password:s.target.password.value}).then(p=>{if(p.status){n(p.status);return}a("colormode")})};return c(S,{className:"px-8 pt-10 pb-5 flex items-center flex-col justify-between",children:[c("div",{className:"w-full h-full flex items-center flex-col justify-center",children:[c("div",{className:"flex justify-center mb-3 items-center flex-col gap-2",children:[e(Nt,{className:"text-5xl mb-2"}),e("h1",{className:"text-2xl px-6 font-normal text-center",children:r==null?void 0:r.createAccount})]}),e("form",{id:"createAccount",onSubmit:i,className:"mb-2 w-full",children:c("div",{className:"grid w-full gap-1",children:[e("label",{children:r==null?void 0:r.name}),e("input",{className:"input",name:"name",required:!0}),e("label",{children:r==null?void 0:r.email}),c("div",{className:"flex gap-2 items-center justify-center",children:[e("input",{className:"input",name:"email",maxLength:24,minLength:3,required:!0}),e("div",{className:"input max-w-[50%] text-sm h-full flex items-center !w-fit",children:c("p",{className:"text-ellipsis overflow-hidden",children:["@",r==null?void 0:r.emailProvider]})})]}),e("label",{children:r==null?void 0:r.password}),e("input",{className:"input",name:"password",type:"password",maxLength:24,minLength:4,required:!0}),e("label",{children:r==null?void 0:r.repeatPassword}),e("input",{className:"input",name:"password2",type:"password",maxLength:24,minLength:4,required:!0})]})}),e("div",{className:"p-3 text-red-500",children:t})]}),c("div",{className:"grid w-full gap-3",children:[e("button",{type:"submit",form:"createAccount",className:"btn-2 bg-blue-500 text-lg !rounded-xl flex items-center justify-center brightness-100 disabled:brightness-75 disabled:cursor-default",children:r==null?void 0:r.create}),e("button",{onClick:()=>a("account"),className:"dark:text-gray-400 text-black font-medium",children:r==null?void 0:r.goBack})]})]})},us=({setPage:a})=>{const{locales:t}=N(),[n,r]=d.exports.useState(null),i=s=>{s.preventDefault(),f("setup:login",{email:s.target.email.value+"@"+(t==null?void 0:t.emailProvider),password:s.target.password.value}).then(l=>{if(!l.status){r(t==null?void 0:t.loginIncorrect);return}a("colormode")})};return c(S,{className:"px-8 pt-10 pb-5 flex items-center flex-col justify-between",children:[c("div",{className:"w-full h-full flex items-center flex-col justify-center",children:[c("div",{className:"flex justify-center mb-3 items-center flex-col gap-2",children:[e(Nt,{className:"text-5xl mb-2"}),e("h1",{className:"text-2xl px-6 font-normal text-center",children:t==null?void 0:t.login})]}),e("form",{id:"createAccount",onSubmit:i,className:"mb-2 w-full",children:c("div",{className:"grid w-full gap-1",children:[e("label",{children:t==null?void 0:t.email}),c("div",{className:"flex gap-2 items-center justify-center",children:[e("input",{className:"input",name:"email",required:!0}),e("div",{className:"input max-w-[50%] text-sm h-full flex items-center !w-fit",children:c("p",{className:"text-ellipsis overflow-hidden",children:["@",t==null?void 0:t.emailProvider]})})]}),e("label",{children:t==null?void 0:t.password}),e("input",{className:"input",name:"password",type:"password",required:!0})]})}),e("div",{className:"p-3 text-red-500",children:n})]}),c("div",{className:"grid w-full gap-3",children:[e("button",{type:"submit",form:"createAccount",className:"btn-2 bg-blue-500 text-lg !rounded-xl flex items-center justify-center brightness-100 disabled:brightness-75 disabled:cursor-default",children:t==null?void 0:t.login}),e("button",{onClick:()=>a("account"),className:"dark:text-gray-400 text-black font-medium",children:t==null?void 0:t.goBack})]})]})},ms=()=>{const[a,t]=d.exports.useState({page:"main"});return e(S,{children:e(de,{page:a,pages:[{name:"main",Element:ps},{name:"account",Element:os},{name:"create",Element:ds},{name:"login",Element:us},{name:"colormode",Element:hs},{name:"animations",Element:gs}],setPage:t})})},ps=({setPage:a})=>{const{locales:t}=N();return c(S,{className:"pt-10 pb-5 px-8 flex items-center flex-col justify-between",children:[e("div",{}),e("div",{className:"flex items-center flex-col gap-2",children:e(ce,{children:e(G.svg,{width:"10000",height:"67",viewBox:"0 0 121 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e(G.path,{d:"M88.2966 42.4C88.1595 42.1389 88.0294 41.87 87.9064 41.5933C86.812 42.7745 85.6433 43.7794 84.4004 44.608C82.8004 45.696 80.9764 46.24 78.9284 46.24C76.1124 46.24 74.0164 44.96 72.6404 42.4C72.4974 42.1277 72.3621 41.8468 72.2343 41.5575C71.1716 42.5707 69.8417 43.5235 68.2446 44.416C66.1006 45.632 63.7966 46.24 61.3326 46.24C57.9726 46.24 55.3646 45.328 53.5086 43.504C51.6526 41.68 50.7246 39.184 50.7246 36.016C50.7246 33.808 51.1886 31.76 52.1166 29.872C53.0446 27.952 54.3246 26.432 55.9566 25.312C57.6206 24.192 59.4926 23.632 61.5726 23.632C63.4286 23.632 64.9166 24.192 66.0366 25.312C67.1566 26.4 67.7166 27.888 67.7166 29.776C67.7166 31.984 66.9166 33.888 65.3166 35.488C63.7486 37.056 61.0766 38.304 57.3006 39.232C58.1006 40.704 59.6206 41.44 61.8606 41.44C63.3006 41.44 64.9326 40.944 66.7566 39.952C68.3222 39.0882 69.7056 38.0081 70.9069 36.7118C70.7186 35.4012 70.6244 33.9853 70.6244 32.464C70.6244 28.56 71.1204 24.112 72.1124 19.12C73.1364 14.128 74.6244 9.84001 76.5764 6.256C78.5604 2.672 80.9124 0.880005 83.6324 0.880005C85.1684 0.880005 86.3684 1.60001 87.2324 3.03999C88.1284 4.44801 88.5764 6.48001 88.5764 9.13602C88.5764 12.944 87.5204 17.36 85.4084 22.384C83.2964 27.408 80.4324 32.384 76.8164 37.312C77.0404 38.624 77.4084 39.568 77.9204 40.144C78.4324 40.688 79.1044 40.96 79.9364 40.96C81.2484 40.96 82.4004 40.592 83.3924 39.856C84.2468 39.1945 85.303 38.1414 86.5609 36.6965C86.3741 35.3903 86.2806 33.9794 86.2806 32.464C86.2806 28.56 86.7766 24.112 87.7686 19.12C88.7926 14.128 90.2806 9.84001 92.2326 6.256C94.2166 2.672 96.5686 0.880005 99.2886 0.880005C100.825 0.880005 102.025 1.60001 102.889 3.03999C103.785 4.44801 104.233 6.48001 104.233 9.13602C104.233 12.944 103.177 17.36 101.065 22.384C98.9526 27.408 96.0886 32.384 92.4726 37.312C92.6966 38.624 93.0646 39.568 93.5766 40.144C94.0886 40.688 94.7606 40.96 95.5926 40.96C96.9046 40.96 98.0566 40.592 99.0486 39.856C99.6149 39.4178 100.27 38.8076 101.013 38.0255C100.925 37.4183 100.881 36.7965 100.881 36.16C100.881 33.728 101.329 31.568 102.225 29.68C103.153 27.76 104.401 26.272 105.969 25.216C107.537 24.128 109.297 23.584 111.249 23.584C113.137 23.584 114.753 24.064 116.097 25.024C117.441 25.952 118.449 27.184 119.121 28.72C119.793 30.256 120.129 31.904 120.129 33.664C120.129 36.096 119.665 38.272 118.737 40.192C117.809 42.08 116.545 43.568 114.945 44.656C113.377 45.712 111.633 46.24 109.713 46.24C107.825 46.24 106.209 45.776 104.865 44.848C103.982 44.2022 103.245 43.4261 102.652 42.5197C101.826 43.3091 100.961 44.0052 100.057 44.608C98.4566 45.696 96.6326 46.24 94.5846 46.24C91.7686 46.24 89.6726 44.96 88.2966 42.4ZM80.0804 9.61601C81.0084 6.96001 81.8404 5.632 82.5764 5.632C83.4724 5.632 83.9204 6.84801 83.9204 9.28001C83.9204 12.384 83.2484 15.824 81.9044 19.6C80.5604 23.344 78.7524 27.088 76.4804 30.832C76.5444 27.216 76.9284 23.44 77.6324 19.504C78.3364 15.568 79.1524 12.272 80.0804 9.61601ZM47.752 35.296C48.168 35.296 48.488 35.488 48.712 35.872C48.968 36.256 49.096 36.784 49.096 37.456C49.096 38.704 48.792 39.696 48.184 40.432C45.016 44.304 41.64 46.24 38.056 46.24C34.952 46.24 32.472 45.04 30.616 42.64C28.76 40.24 27.832 36.8 27.832 32.32C27.832 31.232 27.88 30.144 27.976 29.056C25.864 29.44 23.56 29.728 21.064 29.92C19.4 30.048 18.264 30.128 17.656 30.16C17.016 33.424 16.12 37.424 14.968 42.16C14.296 44.944 13.016 46.336 11.128 46.336C9.07999 46.336 8.056 45.408 8.056 43.552C8.056 43.136 8.13599 42.56 8.29599 41.824C9.384 37.44 10.248 33.728 10.888 30.688L8.58398 30.784C7.52798 30.784 6.75998 30.608 6.28 30.256C5.79999 29.872 5.56 29.264 5.56 28.432C5.56 27.376 5.86398 26.608 6.47198 26.128C7.07999 25.616 8.08798 25.328 9.496 25.264L12.04 25.168C12.872 20.656 13.288 17.216 13.288 14.848C13.288 13.344 13.064 12.32 12.616 11.776C12.168 11.232 11.576 10.96 10.84 10.96C8.59998 10.96 6.07199 12.832 3.25598 16.576C2.84 17.12 2.37598 17.392 1.86398 17.392C1.41599 17.392 1.03198 17.184 0.712006 16.768C0.391998 16.352 0.231995 15.824 0.231995 15.184C0.231995 14.192 0.631989 13.136 1.43198 12.016C2.84 10.064 4.616 8.464 6.75998 7.216C8.90399 5.936 11.08 5.29601 13.288 5.29601C15.368 5.29601 16.968 6.01601 18.088 7.45601C19.24 8.864 19.816 11.072 19.816 14.08C19.816 16.736 19.432 20.336 18.664 24.88L23.368 24.64C25.384 24.544 27.112 24.384 28.552 24.16C29.128 20.64 30.008 17.344 31.192 14.272C32.376 11.2 33.848 8.70401 35.608 6.78401C37.368 4.86401 39.336 3.90401 41.512 3.90401C43.112 3.90401 44.376 4.54401 45.304 5.82401C46.232 7.07201 46.696 8.72002 46.696 10.768C46.696 18.704 42.648 24.208 34.552 27.28C34.456 28.56 34.408 29.888 34.408 31.264C34.408 34.624 34.824 37.008 35.656 38.416C36.488 39.824 37.656 40.528 39.16 40.528C40.472 40.528 41.672 40.192 42.76 39.52C43.848 38.816 45.08 37.632 46.456 35.968C46.84 35.52 47.272 35.296 47.752 35.296ZM41.272 8.08002C40.568 8.08002 39.816 8.72002 39.016 10C38.248 11.28 37.512 13.024 36.808 15.232C36.104 17.44 35.544 19.856 35.128 22.48C37.688 21.424 39.576 19.92 40.792 17.968C42.008 16.016 42.616 13.504 42.616 10.432C42.616 9.696 42.488 9.12 42.232 8.70401C41.976 8.28801 41.656 8.08002 41.272 8.08002ZM60.7566 28.336C59.5726 28.336 58.5646 29.024 57.7326 30.4C56.9326 31.776 56.5326 33.44 56.5326 35.392V35.488C58.4206 35.04 59.9086 34.368 60.9966 33.472C62.0846 32.576 62.6286 31.536 62.6286 30.352C62.6286 29.744 62.4526 29.264 62.1006 28.912C61.7806 28.528 61.3326 28.336 60.7566 28.336ZM98.2326 5.632C97.4966 5.632 96.6646 6.96001 95.7366 9.61601C94.8086 12.272 93.9926 15.568 93.2886 19.504C92.5846 23.44 92.2006 27.216 92.1366 30.832C94.4086 27.088 96.2166 23.344 97.5606 19.6C98.9046 15.824 99.5766 12.384 99.5766 9.28001C99.5766 6.84801 99.1286 5.632 98.2326 5.632ZM112.977 39.28C112.241 40.464 111.329 41.056 110.241 41.056C109.281 41.056 108.481 40.624 107.841 39.76C107.201 38.896 106.881 37.552 106.881 35.728C106.881 33.424 107.249 31.696 107.985 30.544C108.753 29.36 109.713 28.768 110.865 28.768C111.761 28.768 112.529 29.216 113.169 30.112C113.809 31.008 114.129 32.336 114.129 34.096C114.129 36.368 113.745 38.096 112.977 39.28Z",fill:"none",stroke:"white",overflow:"visible",strokeWidth:1,strokeLinejoin:"round",strokeLinecap:"round",initial:{pathLength:0,fill:"rgba(255, 255, 255, 0)"},animate:{pathLength:1,fill:"rgba(255, 255, 255, 1)"},transition:{duration:2,ease:"easeInOut",fill:{duration:1,ease:[1,0,.8,1]}}})})})}),e("button",{onClick:()=>a("account"),className:"btn-2 bg-blue-500 mt-3 text-lg !rounded-xl flex items-center justify-center brightness-100 disabled:brightness-75 disabled:cursor-default",children:t==null?void 0:t.setupBtn})]})},hs=({setPage:a})=>{const{darkMode:t,setDarkMode:n,locales:r}=N(),i=s=>{f("setSetting",{key:"darkMode",value:s}),n(s)};return c(S,{className:"px-8 pt-10 pb-5 gap-3 flex flex-col items-center justify-center",children:[c("div",{className:"flex h-full justify-center items-center flex-col gap-2",children:[e(In,{className:"text-6xl"}),e("h1",{className:"text-2xl px-6 font-normal text-center",children:r==null?void 0:r.deviceTheme})]}),c("div",{className:"grid grid-cols-2 w-full gap-3",children:[c("button",{onClick:()=>i(!0),className:`flex gap-2 text-xl flex-col items-center justify-center p-5 rounded-md ${t?"bg-blue-500 !bg-opacity-100":"dark:bg-white bg-black !bg-opacity-5"}`,children:[e(nt,{}),e("p",{children:r==null?void 0:r.dark})]}),c("button",{onClick:()=>i(!1),className:`flex gap-2 text-xl flex-col items-center justify-center p-5 rounded-md ${t?"dark:bg-white bg-black !bg-opacity-5":"bg-blue-500 !bg-opacity-100"}`,children:[e(We,{}),e("p",{children:r==null?void 0:r.light})]})]}),e("button",{onClick:()=>a("animations"),className:"btn-2 bg-blue-500 text-lg !rounded-xl flex items-center justify-center brightness-100 disabled:brightness-75 disabled:cursor-default",children:r.continueBtn})]})},gs=({})=>{const{animations:a,setAnimations:t,locales:n}=N(),r=Y(),i=l=>{f("setSetting",{key:"animations",value:l}),t(l)},s=()=>{r("/")};return c(S,{className:"px-8 pt-10 pb-5 gap-3 flex flex-col items-center justify-center",children:[c("div",{className:"flex h-full justify-center items-center flex-col gap-2",children:[e(at,{className:"text-6xl"}),e("h1",{className:"text-2xl px-6 font-normal text-center",children:n==null?void 0:n.animations})]}),c("div",{className:"grid grid-cols-2 w-full gap-3",children:[e("button",{onClick:()=>i(!0),className:`flex gap-2 text-xl flex-col items-center justify-center p-5 rounded-md ${a?"bg-blue-500 !bg-opacity-100":"dark:bg-white bg-black !bg-opacity-5"}`,children:e("p",{children:n==null?void 0:n.on})}),e("button",{onClick:()=>i(!1),className:`flex gap-2 text-xl flex-col items-center justify-center p-5 rounded-md ${a?"dark:bg-white bg-black !bg-opacity-5":"bg-blue-500 !bg-opacity-100"}`,children:e("p",{children:n==null?void 0:n.off})})]}),e("button",{onClick:s,className:"btn-2 bg-blue-500 text-lg !rounded-xl flex items-center justify-center brightness-100 disabled:brightness-75 disabled:cursor-default",children:n==null?void 0:n.finishBtn})]})},fs=()=>{const a=oe(),t=Y(),[n,r]=d.exports.useState([]),{open:i,half:s,setOpen:l,setHalf:u,animations:p,darkMode:m,background:h,setSettings:o,bigView:g,setBigView:b,setRingtones:x,setBackgrounds:k,setPlayerId:w,setLocked:T,setSyncing:M,setWeather:y,flightMode:C,setLocales:R,locales:v,notifications:F}=N(),{notifications:q,notify:H}=Re(),j=E=>{E.key==="Escape"&&(g?b(!1):W())},W=()=>{t("/"),i&&(s?u(!1):q.length<1?l(!1):u(!0),f("close"))},_=({data:E})=>{if(E.type==="boot")x(E.ringtones),k(E.backgrounds),o(E.settings,E.ringtones),w(E.id),R(E.locales);else if(E.type==="sync")M(E.toggle),E.toggle||H({app:"settings",title:v==null?void 0:v.syncing,content:v==null?void 0:v.allDataSaved});else if(E.type==="open")y(E.weather),i&&s?u(!1):l(!0),E.setup&&(T(!1),setTimeout(()=>{t("/setup")},100));else if(E.type==="close")W();else if(E.type==="lock")T(!0);else if(E.type==="setApps")r(E.apps);else if(E.type==="notify"){if(C)return;E.notification.app==="phone"?H(J(z({},E.notification),{canClose:!1,duration:-1,content:Z=>e(is,{notify:Z,incoming:E.notification.incoming,callid:E.notification.CallID})})):E.notification.sameApp?H(E.notification):a.pathname.includes(E.notification.app)||H(E.notification)}};return d.exports.useEffect(()=>(window.addEventListener("keyup",j),()=>{window.removeEventListener("keyup",j)}),[s,i,q,g,a]),d.exports.useEffect(()=>{const E=Q=>{(Q.target.nodeName==="INPUT"||Q.target.nodeName==="TEXTAREA")&&f("focus")},Z=Q=>{(Q.target.nodeName==="INPUT"||Q.target.nodeName==="TEXTAREA")&&f("unfocus")};return document.addEventListener("focusin",E),document.addEventListener("focusout",Z),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",Z)}},[a]),d.exports.useEffect(()=>{window.mainRender=new cs,window.mainRender.initialize()},[]),d.exports.useEffect(()=>(window.addEventListener("message",_),()=>{window.removeEventListener("message",_)}),[s,F,i,q,g,a]),c(fe,{children:[e("div",{className:"w-screen h-screen absolute top-0 left-0",id:"app"}),c("div",{className:`w-screen h-screen font-medium overflow-hidden relative ${m&&"dark"}`,children:[e(rs,{}),e(ce,{children:i&&c(G.div,{initial:{y:800},animate:{y:s?550:0},exit:{y:800},transition:{type:"keyframes",duration:p?.25:0},className:"absolute right-1 bottom-1 bg-cover w-[315px] h-[665px]",children:[e("div",{className:"case",style:{backgroundImage:"url(./case.svg)"}}),c(Kn,{background:h,children:[e(Wn,{}),e(_n,{}),e(ce,{exitBeforeEnter:!0,children:c($n,{location:a,children:[e(Ie,{path:"/lock",element:e(Un,{})}),e(Ie,{path:"/",element:e(_e,{element:e(qn,{apps:n})})}),e(Ie,{path:"/setup",element:e(_e,{element:e(ms,{})})}),n==null?void 0:n.map(({id:E})=>{const Z=ss[E];return e(Ie,{path:E,element:e(_e,{element:Z})},"route"+E)})]},a.pathname)}),e(ce,{children:["/setup","/"].indexOf(a.pathname)<0&&e(Gn,{})})]})]})})]})]})};Rn.render(e(On.StrictMode,{children:e(Bn,{children:e(zn,{children:e(Zn,{children:e(fs,{})})})})}),document.getElementById("root"));
